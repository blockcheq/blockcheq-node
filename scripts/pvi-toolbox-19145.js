/////////////////////////////////////////
// Auto generated code. Do not modify! //
/////////////////////////////////////////

var PVIContractCompiled = {"abi":[{"constant":false,"inputs":[{"name":"userNumberId","type":"string"},{"name":"userName","type":"string"},{"name":"userSurname","type":"string"},{"name":"userPhone","type":"string"}],"name":"addUser","outputs":[{"name":"id","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"userId","type":"uint256"},{"name":"securityCode","type":"string"}],"name":"getUserNumberId","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"docType","type":"string"},{"name":"docTypes","type":"string"}],"name":"validDoctype","outputs":[{"name":"found","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userId","type":"uint256"},{"name":"index","type":"uint256"}],"name":"getDocumentExpirationDateByUserId","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getExpiration","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userID","type":"uint256"},{"name":"index","type":"uint256"},{"name":"securityCode","type":"string"}],"name":"getDocumentItem","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userID","type":"uint256"},{"name":"index","type":"uint256"},{"name":"securityCode","type":"string"}],"name":"getDocumentDocType","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userId","type":"uint256"},{"name":"documentId","type":"uint256"},{"name":"securityCode","type":"string"}],"name":"getValidationsLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userID","type":"uint256"},{"name":"index","type":"uint256"},{"name":"securityCode","type":"string"}],"name":"getDocumentUserId","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userId","type":"uint256"},{"name":"documentId","type":"uint256"},{"name":"index","type":"uint256"},{"name":"securityCode","type":"string"}],"name":"getValidationDescription","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"expiration","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"expiration_time","type":"uint256"}],"name":"setExpiration","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_account","type":"address"}],"name":"getProvider","outputs":[{"name":"providerId","type":"uint256"},{"name":"account","type":"address"},{"name":"name","type":"string"},{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"userId","type":"uint256"},{"name":"securityCode","type":"string"},{"name":"docTypes","type":"string"}],"name":"createSecurityCode","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"userNumberId","type":"string"},{"name":"index","type":"uint256"}],"name":"getDocumentExpirationDate","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"ownerName","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userId","type":"uint256"},{"name":"securityCode","type":"string"}],"name":"getUserName","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"userId","type":"uint256"},{"name":"docType","type":"string"},{"name":"item","type":"string"},{"name":"processDate","type":"uint256"},{"name":"expirationDate","type":"uint256"},{"name":"securityCode","type":"string"}],"name":"addDocument","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"userID","type":"uint256"},{"name":"index","type":"uint256"},{"name":"securityCode","type":"string"}],"name":"getDocumentProcessDate","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userID","type":"uint256"},{"name":"index","type":"uint256"},{"name":"securityCode","type":"string"}],"name":"getDocumentUserNumberId","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userId","type":"uint256"},{"name":"documentId","type":"uint256"},{"name":"index","type":"uint256"},{"name":"securityCode","type":"string"}],"name":"getValidationProviderId","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userNumberId","type":"string"}],"name":"getSecurityTimestamp","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userId","type":"uint256"},{"name":"documentId","type":"uint256"},{"name":"index","type":"uint256"},{"name":"securityCode","type":"string"}],"name":"getValidationSecurityLevel","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userId","type":"uint256"},{"name":"securityCode","type":"string"}],"name":"getUserSurame","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userId","type":"uint256"},{"name":"securityCode","type":"string"}],"name":"getUserPhone","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userId","type":"uint256"},{"name":"documentId","type":"uint256"},{"name":"index","type":"uint256"},{"name":"securityCode","type":"string"}],"name":"getValidationProcessDate","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userID","type":"uint256"},{"name":"index","type":"uint256"},{"name":"securityCode","type":"string"}],"name":"getDocumentProviderId","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userNumberId","type":"string"},{"name":"userName","type":"string"},{"name":"userSurname","type":"string"},{"name":"userPhone","type":"string"},{"name":"max","type":"uint256"},{"name":"last","type":"uint256"}],"name":"searchUser","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userNumberId","type":"string"}],"name":"getDocumentsLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"userId","type":"uint256"}],"name":"getDocumentsLengthByUserId","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"account","type":"address"},{"name":"providerName","type":"string"},{"name":"balance","type":"uint256"}],"name":"addProvider","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"userId","type":"uint256"},{"name":"documentId","type":"uint256"},{"name":"timestamp","type":"uint256"},{"name":"description","type":"string"},{"name":"securityLevel","type":"string"},{"name":"securityCode","type":"string"}],"name":"addValidation","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"tokenName","type":"string"},{"name":"tokenSymbol","type":"string"},{"name":"decimalUnits","type":"uint8"},{"name":"balance","type":"uint256"},{"name":"expiration_time","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"userId","type":"uint256"},{"indexed":false,"name":"userNumberId","type":"string"},{"indexed":false,"name":"userName","type":"string"},{"indexed":false,"name":"userSurname","type":"string"},{"indexed":false,"name":"userPhone","type":"string"}],"name":"UserChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"docId","type":"uint256"},{"indexed":false,"name":"userId","type":"uint256"},{"indexed":false,"name":"userNumberId","type":"string"},{"indexed":false,"name":"docType","type":"string"},{"indexed":false,"name":"item","type":"string"},{"indexed":false,"name":"provider","type":"address"},{"indexed":false,"name":"processDate","type":"uint256"},{"indexed":false,"name":"expirationDate","type":"uint256"}],"name":"DocumentChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"providerId","type":"uint256"},{"indexed":false,"name":"account","type":"address"},{"indexed":false,"name":"name","type":"string"},{"indexed":false,"name":"balance","type":"uint256"}],"name":"ProviderChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"validationId","type":"uint256"},{"indexed":false,"name":"documentId","type":"uint256"},{"indexed":false,"name":"providerId","type":"uint256"},{"indexed":false,"name":"processDate","type":"uint256"},{"indexed":false,"name":"description","type":"string"},{"indexed":false,"name":"securityLevel","type":"string"}],"name":"ValidationChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"userHash","type":"bytes32"},{"indexed":false,"name":"providerId","type":"uint256"},{"indexed":false,"name":"code","type":"bytes32"},{"indexed":false,"name":"timeStamp","type":"uint256"},{"indexed":false,"name":"docTypes","type":"string"}],"name":"SecurityCodeChanged","type":"event"}],"bytecode":"0x6060604052600d805460ff1916602c17905534156200001d57600080fd5b60405162004840380380620048408339810160405280805182019190602001805182019190602001805191906020018051919060200180519150600190508580516200006e929160200190620007c7565b50600284805162000084929160200190620007c7565b506003805460ff191660ff851617905560008054600160a060020a03191633600160a060020a0390811691909117918290556004839055600180546200017e93909216916002610100828416150260001901909116046020601f820181900481020160405190810160405280929190818152602001828054600181600116156101000203166002900480156200015e5780601f1062000132576101008083540402835291602001916200015e565b820191906000526020600020905b8154815290600101906020018083116200014057829003601f168201915b505050505084620002736401000000000262002cf4176401000000009004565b5062000267604080519081016040908152600482527f7573657200000000000000000000000000000000000000000000000000000000602083015280519081016040908152600782527f696e76616c696400000000000000000000000000000000000000000000000000602083015280519081016040908152600182527f300000000000000000000000000000000000000000000000000000000000000060208301528051908101604052600181527f30000000000000000000000000000000000000000000000000000000000000006020820152640100000000620010496200043882021704565b505050505050620009b2565b60008054819033600160a060020a039081169116146200029257600080fd5b600160a060020a03851660009081526009602052604090205415620002b657600080fd5b60068054600160a060020a038716600090815260096020526040902081905590620002e590600183016200084c565b905060606040519081016040528086600160a060020a03168152602001858152602001848152506006828154811015156200031c57fe5b906000526020600020906003020160008201518154600160a060020a031916600160a060020a039190911617815560208201518160010190805162000366929160200190620007c7565b506040820151600290910155507f1ea65555940591e53fed43c9583712b792c52bb8133f8b975c29f4a8735b83ed81868686604051848152600160a060020a03841660208201526060810182905260806040820181815290820184818151815260200191508051906020019080838360005b83811015620003f2578082015183820152602001620003d8565b50505050905090810190601f168015620004205780820380516001836020036101000a031916815260200191505b509550505050505060405180910390a1949350505050565b600160a060020a03331660009081526009602052604081205481908190118062000470575060005433600160a060020a039081169116145b15156200047c57600080fd5b856040518082805190602001908083835b60208310620004ae5780518252601f1990920191602091820191016200048d565b6001836020036101000a03801982511681845116179092525050509190910192506040915050519081900390206000818152600a602052604090205490915015620004f857600080fd5b600780546000838152600a60205260409020819055906200051d906001830162000880565b9150608060405190810160405280878152602001868152602001858152602001848152506007838154811015156200055157fe5b906000526020600020906004020160008201518190805162000578929160200190620007c7565b5060208201518160010190805162000595929160200190620007c7565b50604082015181600201908051620005b2929160200190620007c7565b50606082015181600301908051620005cf929160200190620007c7565b509050507fbfc02f8cb651e271c86a2b3b791f919a74db19230f0f886f15c24c8b3fd84ecd82878787876040518086815260200180602001806020018060200180602001858103855289818151815260200191508051906020019080838360005b838110156200064a57808201518382015260200162000630565b50505050905090810190601f168015620006785780820380516001836020036101000a031916815260200191505b50858103845288818151815260200191508051906020019080838360005b83811015620006b057808201518382015260200162000696565b50505050905090810190601f168015620006de5780820380516001836020036101000a031916815260200191505b50858103835287818151815260200191508051906020019080838360005b8381101562000716578082015183820152602001620006fc565b50505050905090810190601f168015620007445780820380516001836020036101000a031916815260200191505b50858103825286818151815260200191508051906020019080838360005b838110156200077c57808201518382015260200162000762565b50505050905090810190601f168015620007aa5780820380516001836020036101000a031916815260200191505b50995050505050505050505060405180910390a150949350505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200080a57805160ff19168380011785556200083a565b828001600101855582156200083a579182015b828111156200083a5782518255916020019190600101906200081d565b5062000848929150620008af565b5090565b8154818355818115116200087b576003028160030283600052602060002091820191016200087b9190620008cf565b505050565b8154818355818115116200087b576004028160040283600052602060002091820191016200087b91906200090f565b620008cc91905b80821115620008485760008155600101620008b6565b90565b620008cc91905b8082111562000848578054600160a060020a03191681556000620008fe600183018262000967565b5060006002820155600301620008d6565b620008cc91905b80821115620008485760006200092d828262000967565b6200093d60018301600062000967565b6200094d60028301600062000967565b6200095d60038301600062000967565b5060040162000916565b50805460018160011615610100020316600290046000825580601f106200098f5750620009af565b601f016020900490600052602060002090810190620009af9190620008af565b50565b613e7e80620009c26000396000f3006060604052600436106101c15763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166301cda3ac81146101c657806305730d11146102ef578063207d67c3146103bc5780632488cfd714610463578063286f82f91461047c5780632f8315021461048f5780632fe36c0e146104eb578063313ce5671461054757806336ccd281146105705780633b0e76ae146105cc5780633dfe2b71146106285780634665096d14610687578063515a20ba1461069a57806355f21eb7146106b25780635b8781b8146107675780635ca0ff53146107ff57806365ac2320146108525780637014f6391461086557806375b5138f146108bb5780637f6cc6b81461099e578063888b5efe146109fa578063893d20e814610a565780638a120dfd14610a8557806395d89b4114610ae45780639d254c6114610af7578063a2a8c1d614610b48578063a4f1185b14610ba7578063afc255a914610bfd578063c6ef3bf414610c53578063c9b29e2614610cb2578063d2790a3214610d0e578063dd5ee0e014610e7f578063dd6ccb5c14610ed0578063f05d870314610ee6578063f2d0ebb314610f47578063f2fde38b1461102a575b600080fd5b34156101d157600080fd5b6102dd60046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284375094965061104995505050505050565b60405190815260200160405180910390f35b34156102fa57600080fd5b610345600480359060446024803590810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496506113bc95505050505050565b60405160208082528190810183818151815260200191508051906020019080838360005b83811015610381578082015183820152602001610369565b50505050905090810190601f1680156103ae5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156103c757600080fd5b61044f60046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405281815292919060208401838380828437509496506113d695505050505050565b604051901515815260200160405180910390f35b341561046e57600080fd5b6102dd6004356024356115f1565b341561048757600080fd5b6102dd6116fa565b341561049a57600080fd5b610345600480359060248035919060649060443590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061170195505050505050565b34156104f657600080fd5b610345600480359060248035919060649060443590810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496506117d395505050505050565b341561055257600080fd5b61055a61186c565b60405160ff909116815260200160405180910390f35b341561057b57600080fd5b6102dd600480359060248035919060649060443590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061187595505050505050565b34156105d757600080fd5b6102dd600480359060248035919060649060443590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061189b95505050505050565b341561063357600080fd5b610345600480359060248035916044359160849060643590810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496506118cf95505050505050565b341561069257600080fd5b6102dd6119bc565b34156106a557600080fd5b6106b06004356119c2565b005b34156106bd57600080fd5b6106d1600160a060020a03600435166119e2565b604051848152600160a060020a03841660208201526060810182905260806040820181815290820184818151815260200191508051906020019080838360005b83811015610729578082015183820152602001610711565b50505050905090810190601f1680156107565780820380516001836020036101000a031916815260200191505b509550505050505060405180910390f35b341561077257600080fd5b6106b0600480359060446024803590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f016020809104026020016040519081016040528181529291906020840183838082843750949650611b6295505050505050565b341561080a57600080fd5b6102dd60046024813581810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496505093359350611e7392505050565b341561085d57600080fd5b610345611f79565b341561087057600080fd5b610345600480359060446024803590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061201795505050505050565b34156108c657600080fd5b6102dd600480359060446024803590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284375094968635966020808201359750919550606081019450604090810135860180830194503592508291601f83018190048102019051908101604052818152929190602084018383808284375094965061203495505050505050565b34156109a957600080fd5b6102dd600480359060248035919060649060443590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061259f95505050505050565b3415610a0557600080fd5b610345600480359060248035919060649060443590810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496506125d395505050505050565b3415610a6157600080fd5b610a6961266c565b604051600160a060020a03909116815260200160405180910390f35b3415610a9057600080fd5b6102dd600480359060248035916044359160849060643590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061267b95505050505050565b3415610aef57600080fd5b6103456126ca565b3415610b0257600080fd5b6102dd60046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061273595505050505050565b3415610b5357600080fd5b610345600480359060248035916044359160849060643590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061281195505050505050565b3415610bb257600080fd5b610345600480359060446024803590810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496506128c295505050505050565b3415610c0857600080fd5b610345600480359060446024803590810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496506128df95505050505050565b3415610c5e57600080fd5b6102dd600480359060248035916044359160849060643590810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496506128fc95505050505050565b3415610cbd57600080fd5b6102dd600480359060248035919060649060443590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061294b95505050505050565b3415610d1957600080fd5b610e2c60046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405281815292919060208401838380828437509496505084359460200135935061297f92505050565b60405160208082528190810183818151815260200191508051906020019060200280838360005b83811015610e6b578082015183820152602001610e53565b505050509050019250505060405180910390f35b3415610e8a57600080fd5b6102dd60046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650612b3595505050505050565b3415610edb57600080fd5b6102dd600435612bed565b3415610ef157600080fd5b6102dd60048035600160a060020a03169060446024803590810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496505093359350612cf492505050565b3415610f5257600080fd5b6102dd600480359060248035916044359160849060643590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f016020809104026020016040519081016040528181529291906020840183838082843750949650612ebc95505050505050565b341561103557600080fd5b6106b0600160a060020a0360043516613144565b600160a060020a033316600090815260096020526040812054819081901180611080575060005433600160a060020a039081169116145b151561108b57600080fd5b856040518082805190602001908083835b602083106110bb5780518252601f19909201916020918201910161109c565b6001836020036101000a03801982511681845116179092525050509190910192506040915050519081900390206000818152600a60205260409020549091501561110457600080fd5b600780546000838152600a60205260409020819055906111279060018301613a47565b91506080604051908101604052808781526020018681526020018581526020018481525060078381548110151561115a57fe5b906000526020600020906004020160008201518190805161117f929160200190613a78565b5060208201518160010190805161119a929160200190613a78565b506040820151816002019080516111b5929160200190613a78565b506060820151816003019080516111d0929160200190613a78565b509050507fbfc02f8cb651e271c86a2b3b791f919a74db19230f0f886f15c24c8b3fd84ecd82878787876040518086815260200180602001806020018060200180602001858103855289818151815260200191508051906020019080838360005b83811015611249578082015183820152602001611231565b50505050905090810190601f1680156112765780820380516001836020036101000a031916815260200191505b50858103845288818151815260200191508051906020019080838360005b838110156112ac578082015183820152602001611294565b50505050905090810190601f1680156112d95780820380516001836020036101000a031916815260200191505b50858103835287818151815260200191508051906020019080838360005b8381101561130f5780820151838201526020016112f7565b50505050905090810190601f16801561133c5780820380516001836020036101000a031916815260200191505b50858103825286818151815260200191508051906020019080838360005b8381101561137257808201518382015260200161135a565b50505050905090810190601f16801561139f5780820380516001836020036101000a031916815260200191505b50995050505050505050505060405180910390a150949350505050565b6113c4613af2565b6113ce838361318e565b519392505050565b60006113e0613af2565b6113e8613af2565b50600091508290508382808351158061140057508251155b1561140e57600094506115e7565b83518210156115e7578260008151811061142457fe5b016020015160f860020a900460f860020a02600160f860020a03191684838151811061144c57fe5b016020015160f860020a900460f860020a02600160f860020a03191614156115dc578115806114cf5750600d5460f860020a027fff0000000000000000000000000000000000000000000000000000000000000016846000198401815181106114b157fe5b016020015160f860020a900460f860020a02600160f860020a031916145b15156114da576115dc565b5060015b8251811080156114f057508351818301105b1561155b5782818151811061150157fe5b016020015160f860020a900460f860020a02600160f860020a031916848284018151811061152b57fe5b016020015160f860020a900460f860020a02600160f860020a0319161415156115535761155b565b6001016114de565b8251811480156115c95750835181830114806115c95750600d5460f860020a027fff000000000000000000000000000000000000000000000000000000000000001684828401815181106115ab57fe5b016020015160f860020a900460f860020a02600160f860020a031916145b156115d757600194506115e7565b600094505b60019091019061140e565b5050505092915050565b600160a060020a03331660009081526009602052604081205481901180611626575060005433600160a060020a039081169116145b151561163157600080fd5b6116f360078481548110151561164357fe5b90600052602060002090600402016000018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156116e85780601f106116bd576101008083540402835291602001916116e8565b820191906000526020600020905b8154815290600101906020018083116116cb57829003601f168201915b505050505083611e73565b9392505050565b6004545b90565b611709613af2565b6005611716858585613508565b8154811061172057fe5b90600052602060002090600702016003018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156117c55780601f1061179a576101008083540402835291602001916117c5565b820191906000526020600020905b8154815290600101906020018083116117a857829003601f168201915b505050505090509392505050565b6117db613af2565b60056117e8858585613508565b815481106117f257fe5b90600052602060002090600702016002018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156117c55780601f1061179a576101008083540402835291602001916117c5565b60035460ff1681565b600080611883858585613508565b6000908152600b602052604090205495945050505050565b600060056118aa858585613508565b815481106118b457fe5b90600052602060002090600702016000015490509392505050565b6118d7613af2565b6000806118e5878786613508565b6000818152600b602052604090208054919350915081908690811061190657fe5b90600052602060002090600502016003018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156119ab5780601f10611980576101008083540402835291602001916119ab565b820191906000526020600020905b81548152906001019060200180831161198e57829003601f168201915b505050505092505050949350505050565b60045481565b60005433600160a060020a039081169116146119dd57600080fd5b600455565b6000806119ed613af2565b60008054819033600160a060020a03908116911614611a0b57600080fd5b600160a060020a03861660009081526009602052604081205411611a2e57600080fd5b50600160a060020a0385166000908152600960205260409020546006805482919082908110611a5957fe5b600091825260209091206003909102015460068054600160a060020a039092169184908110611a8457fe5b9060005260206000209060030201600101600684815481101515611aa457fe5b906000526020600020906003020160020154818054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611b4b5780601f10611b2057610100808354040283529160200191611b4b565b820191906000526020600020905b815481529060010190602001808311611b2e57829003601f168201915b505050505091509450945094509450509193509193565b600160a060020a033316600090815260096020526040812054819081908190819081901180611b9f575060005433600160a060020a039081169116145b1515611baa57600080fd5b611bb38861374b565b1515611bbe57600080fd5b6007805489908110611bcc57fe5b90600052602060002090600402019450846000016040518082805460018160011615610100020316600290048015611c3b5780601f10611c19576101008083540402835291820191611c3b565b820191906000526020600020905b815481529060010190602001808311611c27575b5050915050604051908190039020600160a060020a033316600090815260096020908152604080832054848452600c9092529091208054929650909450925060018401901015611c955760018301611c938382613b04565b505b8183815481101515611ca357fe5b90600052602060002090600302019050866040518082805190602001908083835b60208310611ce35780518252601f199092019160209182019101611cc4565b6001836020036101000a0380198251168184511617909252505050919091019250604091505051908190039020815542600182015560028101868051611d2d929160200190613a78565b506000848152600c60205260409020805482919085908110611d4b57fe5b6000918252602090912082546003909202019081556001808301548183015560028084018054611d8e938386019390821615610100026000190190911604613b30565b509050507fcdac243ec18e2ed3104a7d343a3f3372de6d0d806058bd089883b626da9215b48484836000015484600101548560020160405185815260208101859052604081018490526060810183905260a0608082018181528354600261010060018316150260001901909116049183018290529060c083019084908015611e575780601f10611e2c57610100808354040283529160200191611e57565b820191906000526020600020905b815481529060010190602001808311611e3a57829003601f168201915b5050965050505050505060405180910390a15050505050505050565b600160a060020a033316600090815260096020526040812054819081901180611eaa575060005433600160a060020a039081169116145b1515611eb557600080fd5b60086000856040518082805190602001908083835b60208310611ee95780518252601f199092019160209182019101611eca565b6001836020036101000a0380198251168184511617909252505050919091019250604091505051908190039020815260208101919091526040016000208054909150839011611f3757600080fd5b60058184815481101515611f4757fe5b60009182526020909120015481548110611f5d57fe5b90600052602060002090600702016006015491505b5092915050565b60018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561200f5780601f10611fe45761010080835404028352916020019161200f565b820191906000526020600020905b815481529060010190602001808311611ff257829003601f168201915b505050505081565b61201f613af2565b612029838361318e565b602001519392505050565b600061203e613af2565b600080600061204c8b61374b565b151561205757600080fd5b600780548c90811061206557fe5b90600052602060002090600402016000018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561210a5780601f106120df5761010080835404028352916020019161210a565b820191906000526020600020905b8154815290600101906020018083116120ed57829003601f168201915b5050505050935060086000856040518082805190602001908083835b602083106121455780518252601f199092019160209182019101612126565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390206000191660001916815260200190815260200160002092506122c48a61222660078e81548110151561219f57fe5b9060005260206000209060040201600001604051808280546001816001161561010002031660029004801561220b5780601f106121e957610100808354040283529182019161220b565b820191906000526020600020905b8154815290600101906020018083116121f7575b50509150506040518091039020612220613753565b8a61379a565b8054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156122ba5780601f1061228f576101008083540402835291602001916122ba565b820191906000526020600020905b81548152906001019060200180831161229d57829003601f168201915b50505050506113d6565b15156122cf57600080fd5b60058054906122e19060018301613ba5565b915060e060405190810160409081528c825260208083018790528183018d9052606083018c9052600160a060020a033316600090815260099091522054608082015260a0810189905260c08101889052600580548490811061233f57fe5b90600052602060002090600702016000820151815560208201518160010190805161236e929160200190613a78565b50604082015181600201908051612389929160200190613a78565b506060820151816003019080516123a4929160200190613a78565b506080820151816004015560a0820151816005015560c082015160069091015550825460019084908083016123d98382613bd1565b60009283526020909220018490550390507ffb0e645f281f986c88a4e6d353bf696dfa067a49d48deab540755ca9e2867213818c868d8d338e8e6040518089815260200188815260200180602001806020018060200187600160a060020a0316600160a060020a0316815260200186815260200185815260200184810384528a818151815260200191508051906020019080838360005b83811015612488578082015183820152602001612470565b50505050905090810190601f1680156124b55780820380516001836020036101000a031916815260200191505b50848103835289818151815260200191508051906020019080838360005b838110156124eb5780820151838201526020016124d3565b50505050905090810190601f1680156125185780820380516001836020036101000a031916815260200191505b50848103825288818151815260200191508051906020019080838360005b8381101561254e578082015183820152602001612536565b50505050905090810190601f16801561257b5780820380516001836020036101000a031916815260200191505b509b50505050505050505050505060405180910390a19a9950505050505050505050565b600060056125ae858585613508565b815481106125b857fe5b90600052602060002090600702016005015490509392505050565b6125db613af2565b60056125e8858585613508565b815481106125f257fe5b90600052602060002090600702016001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156117c55780601f1061179a576101008083540402835291602001916117c5565b600054600160a060020a031690565b600080600061268b878786613508565b6000818152600b60205260409020805491935091508190869081106126ac57fe5b90600052602060002090600502016001015492505050949350505050565b60028054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561200f5780601f10611fe45761010080835404028352916020019161200f565b600080600080612743613753565b9250846040518082805190602001908083835b602083106127755780518252601f199092019160209182019101612756565b6001836020036101000a03801982511681845116179092525050509190910192506040915050519081900390206000818152600a602052604081205491935090116127bf57600080fd5b506000818152600c60205260408120805490919011156128045760045481848154811015156127ea57fe5b906000526020600020906003020160010154019350612809565b600093505b505050919050565b612819613af2565b600080612827878786613508565b6000818152600b602052604090208054919350915081908690811061284857fe5b90600052602060002090600502016004018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156119ab5780601f10611980576101008083540402835291602001916119ab565b6128ca613af2565b6128d4838361318e565b604001519392505050565b6128e7613af2565b6128f1838361318e565b606001519392505050565b600080600061290c878786613508565b6000818152600b602052604090208054919350915081908690811061292d57fe5b90600052602060002090600502016002015492505050949350505050565b6000600561295a858585613508565b8154811061296457fe5b90600052602060002090600702016004015490509392505050565b612987613af2565b6000612991613af2565b600160a060020a03331660009081526009602052604081205481908190819011806129ca575060005433600160a060020a039081169116145b15156129d557600080fd5b60009450876040518059106129e75750595b90808252806020026020018201604052509350612a038c61389c565b1515612abf578b6040518082805190602001908083835b60208310612a395780518252601f199092019160209182019101612a1a565b6001836020036101000a03801982511681845116179092525050509190910192506040915050519081900390206000818152600a602052604090205490935091508115801590612a905750612a90828c8c8c6138b2565b8015612a9a575086155b15612ab75781848681518110612aac57fe5b602090810290910101525b839550612b26565b60008711612ace576001612ad3565b866001015b90505b8785108015612ae6575060075481105b15612b2257612af7818c8c8c6138b2565b15612b1a5780848681518110612b0957fe5b602090810290910101526001909401935b600101612ad6565b8395505b50505050509695505050505050565b600160a060020a03331660009081526009602052604081205481901180612b6a575060005433600160a060020a039081169116145b1515612b7557600080fd5b60086000836040518082805190602001908083835b60208310612ba95780518252601f199092019160209182019101612b8a565b6001836020036101000a0380198251168184511617909252505050919091019250604091505051908190039020815260208101919091526040016000205492915050565b600160a060020a03331660009081526009602052604081205481901180612c22575060005433600160a060020a039081169116145b1515612c2d57600080fd5b612cee600783815481101515612c3f57fe5b90600052602060002090600402016000018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015612ce45780601f10612cb957610100808354040283529160200191612ce4565b820191906000526020600020905b815481529060010190602001808311612cc757829003601f168201915b5050505050612b35565b92915050565b60008054819033600160a060020a03908116911614612d1257600080fd5b600160a060020a03851660009081526009602052604090205415612d3557600080fd5b60068054600160a060020a038716600090815260096020526040902081905590612d629060018301613bf5565b905060606040519081016040528086600160a060020a0316815260200185815260200184815250600682815481101515612d9857fe5b90600052602060002090600302016000820151815473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0391909116178155602082015181600101908051612ded929160200190613a78565b506040820151600290910155507f1ea65555940591e53fed43c9583712b792c52bb8133f8b975c29f4a8735b83ed81868686604051848152600160a060020a03841660208201526060810182905260806040820181815290820184818151815260200191508051906020019080838360005b83811015612e77578082015183820152602001612e5f565b50505050905090810190601f168015612ea45780820380516001836020036101000a031916815260200191505b509550505050505060405180910390a1949350505050565b600160a060020a03331660009081526009602052604081205481908190819081901180612ef7575060005433600160a060020a039081169116145b1515612f0257600080fd5b612f0d8a8a87613508565b9250612f188761389c565b15612f2257600080fd5b60008811612f2f57600080fd5b600160a060020a033316600090815260096020908152604080832054868452600b90925290912080549193509060018101612f6a8382613c21565b9160005260206000209060050201600060a060405190810160409081528782526020820187905281018c9052606081018b9052608081018a9052919050815181556020820151816001015560408201518160020155606082015181600301908051612fd9929160200190613a78565b50608082015181600401908051612ff4929160200190613a78565b505050506001600b6000858152602001908152602001600020805490500390507fcc6e429cbf120370f3346ada94d7f2f9d541359ce67fd79414769645869c8616818a848b8b8b604051808781526020018681526020018581526020018481526020018060200180602001838103835285818151815260200191508051906020019080838360005b8381101561309457808201518382015260200161307c565b50505050905090810190601f1680156130c15780820380516001836020036101000a031916815260200191505b50838103825284818151815260200191508051906020019080838360005b838110156130f75780820151838201526020016130df565b50505050905090810190601f1680156131245780820380516001836020036101000a031916815260200191505b509850505050505050505060405180910390a19998505050505050505050565b60005433600160a060020a0390811691161461315f57600080fd5b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b613196613c4d565b6000806131a28561374b565b15156131ad57600080fd5b6131b5613753565b91506007858154811015156131c657fe5b906000526020600020906004020160000160405180828054600181600116156101000203166002900480156132325780601f10613210576101008083540402835291820191613232565b820191906000526020600020905b81548152906001019060200180831161321e575b50509150506040518091039020905061324c81838661379a565b50600780548690811061325b57fe5b906000526020600020906004020160806040519081016040529081600082018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561330e5780601f106132e35761010080835404028352916020019161330e565b820191906000526020600020905b8154815290600101906020018083116132f157829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156133b05780601f10613385576101008083540402835291602001916133b0565b820191906000526020600020905b81548152906001019060200180831161339357829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156134525780601f1061342757610100808354040283529160200191613452565b820191906000526020600020905b81548152906001019060200180831161343557829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156134f45780601f106134c9576101008083540402835291602001916134f4565b820191906000526020600020905b8154815290600101906020018083116134d757829003601f168201915b50505050508152505092505b505092915050565b60008060008060006007805490508810151561352357600080fd5b600780548990811061353157fe5b9060005260206000209060040201600001604051808280546001816001161561010002031660029004801561359d5780601f1061357b57610100808354040283529182019161359d565b820191906000526020600020905b815481529060010190602001808311613589575b505091505060405190819003902060008181526008602052604090208054919550935087106135cb57600080fd5b600160a060020a03331660009081526009602052604090205491506135f184838861379a565b9050828781548110151561360157fe5b906000526020600020900154945061373560058681548110151561362157fe5b90600052602060002090600702016002018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156136c65780601f1061369b576101008083540402835291602001916136c6565b820191906000526020600020905b8154815290600101906020018083116136a957829003601f168201915b5050505050828054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156122ba5780601f1061228f576101008083540402835291602001916122ba565b151561374057600080fd5b505050509392505050565b600754901090565b60008054819033600160a060020a039081169116146137925750600160a060020a03331660009081526009602052604081205490811161379257600080fd5b8091505b5090565b6000838152600a6020526040812054819081908190116137b957600080fd5b6000868152600c6020526040902080549092508590116137d857600080fd5b4260045483878154811015156137ea57fe5b9060005260206000209060030201600101540111151561380957600080fd5b818581548110151561381757fe5b90600052602060002090600302019050836040518082805190602001908083835b602083106138575780518252601f199092019160209182019101613838565b6001836020036101000a038019825116818451161790925250505091909101925060409150505190819003902081541461389057600080fd5b60020195945050505050565b60006138a6613af2565b50818051159392505050565b6000806007868154811015156138c457fe5b906000526020600020906004020190506138e18582600101613913565b80156138f557506138f58482600201613913565b801561390957506139098382600301613913565b9695505050505050565b600061391d613af2565b5082600061392a8261389c565b156139385760019250613500565b5082613944818361394d565b95945050505050565b6000808251845460026000196101006001841615020190911604146139755760009150611f72565b5060005b835460026000196101006001841615020190911604811015613a3d578281815181106139a157fe5b016020015160f860020a900460f860020a02600160f860020a031916848281546001816001161561010002031660029004811015156139dc57fe5b8154600116156139fb5790600052602060002090602091828204019190065b9054901a60f860020a027fff000000000000000000000000000000000000000000000000000000000000001614613a355760009150611f72565b600101613979565b5060019392505050565b815481835581811511613a7357600402816004028360005260206000209182019101613a739190613c8d565b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10613ab957805160ff1916838001178555613ae6565b82800160010185558215613ae6579182015b82811115613ae6578251825591602001919060010190613acb565b50613796929150613cda565b60206040519081016040526000815290565b815481835581811511613a7357600302816003028360005260206000209182019101613a739190613cf4565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10613b695780548555613ae6565b82800160010185558215613ae657600052602060002091601f016020900482015b82811115613ae6578254825591600101919060010190613b8a565b815481835581811511613a7357600702816007028360005260206000209182019101613a739190613d24565b815481835581811511613a7357600083815260209020613a73918101908301613cda565b815481835581811511613a7357600302816003028360005260206000209182019101613a739190613d7e565b815481835581811511613a7357600502816005028360005260206000209182019101613a739190613dc6565b608060405190810160405280613c61613af2565b8152602001613c6e613af2565b8152602001613c7b613af2565b8152602001613c88613af2565b905290565b6116fe91905b80821115613796576000613ca78282613e0b565b613cb5600183016000613e0b565b613cc3600283016000613e0b565b613cd1600383016000613e0b565b50600401613c93565b6116fe91905b808211156137965760008155600101613ce0565b6116fe91905b8082111561379657600080825560018201819055613d1b6002830182613e0b565b50600301613cfa565b6116fe91905b80821115613796576000808255613d446001830182613e0b565b613d52600283016000613e0b565b613d60600383016000613e0b565b50600060048201819055600582018190556006820155600701613d2a565b6116fe91905b8082111561379657805473ffffffffffffffffffffffffffffffffffffffff191681556000613db66001830182613e0b565b5060006002820155600301613d84565b6116fe91905b808211156137965760008082556001820181905560028201819055613df46003830182613e0b565b613e02600483016000613e0b565b50600501613dcc565b50805460018160011615610100020316600290046000825580601f10613e315750613e4f565b601f016020900490600052602060002090810190613e4f9190613cda565b505600a165627a7a723058203ca298d87361264110e3e8a3dcd99cfc8f92b2c7b24e4597b44f8068da3ecbc00029"};

var pviAddressDefault = "0xa0a37b7c17168aa50019f015b54762f3b7475367";

var pviAddress = "";

var owner = web3.personal.listAccounts[0];
var provider1 = web3.personal.listAccounts[1];
var user1 = web3.personal.listAccounts[2];

console.log("Unlocking owner");
web3.personal.unlockAccount(owner, "", 15000);
console.log("Unlocking provider1");
web3.personal.unlockAccount(provider1, "garfield123", 15000);

var PVIContract = web3.eth.contract(PVIContractCompiled.abi);

var pvi = {}; 		// eth.contract(PVIContractCompiled.abi).at(pviAddress);

var deployGas = 6712390;
var transGas = 900000;
var timeResolution = 1000000;

var deployPVIContract = function(owner, deployPviCallback) {
    var tokeName = "PVI";
    var symbol = "â‚¬";
    var decimals = 2;
    var balance = 1000000000;
    var expiration = 7200000 * timeResolution; //
    PVIContract.new(tokeName, symbol, decimals, balance, expiration, 
    {
        from: owner,
        data: PVIContractCompiled.bytecode,
        gas: deployGas
    }, function (e, contract) {
        if (e) {
            console.log("Error creating Pvi contract ", e);
        } else {
            if (!contract.address) {
                console.log('Waiting for Pvi. TransactionHash: ' + contract.transactionHash);
            } else {
                console.log('Pvi contract mined! address: "' + contract.address + '"\n');
                deployPviCallback(contract);
            }
        }
    });
}

var linkContracts = function(pvi){
    console.log('Linking contracts ');
	pviAddress = pvi.address;
    setContracts();
    info();
}

var deploy = function() {
	console.log('Calling contract creation');
	deployPVIContract(owner, function(pvi) {
	    console.log('Pvi ready, calling final config');
        linkContracts(pvi);
	});
}

// ========================================================================
var info = function() {
    console.log('-------------------------- CONTRACTS INFO -------------------------');
    console.log('/* Copy & paste this to access deployed contracts */');
    console.log('setAddrs({');
    console.log('pviAddress : "' + pviAddress + '"');
    console.log('});');
    console.log('/* End here */');
    console.log('---------------------------- ACCOUNTS -----------------------------');
    console.log('owner: ' + owner + ''); 
    console.log('-------------------------------------------------------------------');
};

var setContracts = function() {
    if (pviAddress == "") {
        pviAddress = pviAddressDefault;
    }
    pvi = eth.contract(PVIContractCompiled.abi).at(pviAddress);
};

var setAddrs = function(data) {
    pviAddress = data.pviAddress;
    pvi = eth.contract(PVIContractCompiled.abi).at(pviAddress);
};

var readEvents = function(){
    pvi.DocumentChanged({from:owner}).watch(function(err, result){
        if (err) {
            console.log('Event watch error!')
            console.log(err)
            return;
        }
        console.log('DocumentChanged')
        console.log(result.args)
    });
}

var init = function() {
	setContracts();
	info();
}

var manage = function() {
	setContracts();
    readEvents();
	info();
	console.log('Ready');
}

var push = function() {
	loadScript('script1.js');
}

var test = function() {
	setContracts();

    console.log('---------------------------- PVI TEST -----------------------------');
    var providerName = 'ProviderName';
    var balance = 10000;
    pvi.addProvider(provider1, providerName, balance, {from: owner, gas:transGas});
    console.log('Provider created.');

    var provider = pvi.getProvider(provider1, {from:owner, gas:transGas});
    console.log('Provider Attributes - id(' + provider[0] + ') account(' + provider[1] + ') name(' + provider[2]+ ') balance(' + provider[3] + ')');

    var userNumberId = '123456789A'; 
    var userName = 'UserName';
    var userSurname = 'UserSurname';
    var userPhone = '666-555-444';
    pvi.addUser(userNumberId, userName, userSurname, userPhone, {from:owner, gas:transGas});
    console.log('User created.');

    var max = 1;
    var result = pvi.searchUser(userNumberId, '', '', '', max, 0, {from: provider1, gas:transGas});
    var userId = result[0];
    console.log('User Attributes - id(' + userId + ')');

    var secCode = 'randomcode';
    var docType = 'docType1';
    var docTypes = docType;// +',docType2,docType3';
    var item = '123456132132123321';
    var processDate = 201901011010;
    var expirationDate = 202001011010;

    pvi.createSecurityCode(userId, secCode, docTypes, {from: owner, gas:transGas});
    console.log('Security Code created.');
    var timestamp = pvi.getSecurityTimestamp(userNumberId, {from: owner, gas:transGas});
    console.log('Security Code Expiration - timestamp(' + timestamp + ')');

    console.log('Adding doc: ' + userId + ',' + docType + ',' + item + ',' + processDate + ',' + expirationDate + ',' + secCode);
    pvi.addDocument(userId, docType, item, processDate, expirationDate, secCode, {from: owner, gas:transGas});
    console.log('Doc added.');
    var docId = pvi.getDocumentsLengthByUserId(userId, {from: owner, gas:transGas}) - 1;
    console.log('Doc id: ' + docId);
    var itemOut = pvi.getDocumentItem(userId, docId,  secCode, {from: owner, gas:transGas});
    console.log('Document created. Item: ' + itemOut);

    var timestamp = pvi.getSecurityTimestamp(userNumberId, {from: owner, gas:transGas});
    console.log('Security Code Expiration - timestamp(' + timestamp + ')');
}

var providers = function() {
    setContracts();

    console.log('---------------------------- Add Custom Providers -----------------------------');
    var provider2 = web3.personal.listAccounts[4];
    var providerName = 'kike';
    var balance = 10000;
    pvi.addProvider(provider2, providerName, balance, {from: owner, gas:transGas});
    console.log('Provider '+ providerName + ' created.');

    var provider = pvi.getProvider(provider2, {from:owner, gas:transGas});
    console.log('Provider Attributes - id(' + provider[0] + ') account(' + provider[1] + ') name(' + provider[2]+ ') balance(' + provider[3] + ')');

    provider2 = web3.personal.listAccounts[2];
    providerName = 'javi';
    pvi.addProvider(provider2, providerName, balance, {from: owner, gas:transGas});
    console.log('Provider '+ providerName + ' created.');

    provider = pvi.getProvider(provider2, {from:owner, gas:transGas});
    console.log('Provider Attributes - id(' + provider[0] + ') account(' + provider[1] + ') name(' + provider[2]+ ') balance(' + provider[3] + ')');

    provider2 = web3.personal.listAccounts[3];
    providerName = 'edu';
    pvi.addProvider(provider2, providerName, balance, {from: owner, gas:transGas});
    console.log('Provider '+ providerName + ' created.');

    provider = pvi.getProvider(provider2, {from:owner, gas:transGas});
    console.log('Provider Attributes - id(' + provider[0] + ') account(' + provider[1] + ') name(' + provider[2]+ ') balance(' + provider[3] + ')');
}

var usage = function() {
	console.log('Usage: ');
	console.log('     deploy()   -> Deploy contracts.');
	console.log('     init()     -> Initialize and configure contracts.');
    console.log('     setAddrs() -> Sets previous deployed contract addresses.');
	console.log('     manage()   -> Manage contracts.');
	console.log('     info()     -> Print contracts information.');
	console.log('     push()     -> Push contracts deployment.');
	console.log('     test()     -> Execute a simple use case.')
	console.log('     usage()    -> Show this help.');
    console.log('     providers() -> Add custom providers.')
}

usage();
