var regulator = web3.personal.listAccounts[0];
var bank1 = web3.personal.listAccounts[1];
var bank2 = web3.personal.listAccounts[2];
var user1Addr = web3.personal.listAccounts[3];
var user2Addr = web3.personal.listAccounts[4];
var user3Addr = web3.personal.listAccounts[5];
var user4Addr = web3.personal.listAccounts[6];

console.log("Unlocking regulator");
web3.personal.unlockAccount(regulator,"",15000);
console.log("Unlocking bank1");
web3.personal.unlockAccount(bank1,"garfield123",15000);
console.log("Unlocking bank2");
web3.personal.unlockAccount(bank2,"garfield123",15000);

var blockbankContract = web3.eth.contract([{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"}],"name":"getBankCodeByAccountHash","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeHash","type":"bytes32"}],"name":"getBankAuthorizedByHash","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionCodelineHash","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"codePosition","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeHash","type":"bytes32"}],"name":"getBankIdHash","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getBanksLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionCodelineHashByHash","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getAccountLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionCodeline","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_code","type":"string"}],"name":"getContract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_code","type":"string"},{"name":"_name","type":"string"},{"name":"_account","type":"address"},{"name":"_contract","type":"address"}],"name":"addBank","outputs":[{"name":"id","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_newRegulator","type":"address"},{"name":"_name","type":"string"}],"name":"transferRegulator","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_code","type":"string"}],"name":"getAccount","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"}],"name":"getTransactionsLength","outputs":[{"name":"length","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionContract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_code","type":"string"},{"name":"_exists","type":"bool"}],"name":"setBankExistance","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_code","type":"string"}],"name":"getName","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeHash","type":"bytes32"}],"name":"getContractByHash","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeHash","type":"bytes32"}],"name":"getBankExistanceByHash","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"}],"name":"getTransactionsLengthByHash","outputs":[{"name":"length","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_bankAddress","type":"address"}],"name":"getCode","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionStatus","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"codeLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionExistanceByHash","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionTimestamp","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionBankCodeByHash","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_code","type":"string"}],"name":"getBankAuthorized","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionBankCode","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionTimestampByHash","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionStatusByHash","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionVersionByHash","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeHash","type":"bytes32"}],"name":"getCodeByHash","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeHash","type":"bytes32"}],"name":"getAccountByHash","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"index","type":"uint256"}],"name":"getAccountHash","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_code","type":"string"}],"name":"getBankId","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionExistance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"index","type":"uint256"}],"name":"getBank","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"bankAddress","type":"address"},{"name":"_depositAccount","type":"string"},{"name":"codeline","type":"string"},{"name":"version","type":"uint256"},{"name":"status","type":"uint8"},{"name":"timestamp","type":"uint256"}],"name":"addTransaction","outputs":[{"name":"id","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"regulator","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_code","type":"string"},{"name":"_name","type":"string"}],"name":"setBankName","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionCodelineByHash","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_code","type":"string"},{"name":"_authorized","type":"bool"}],"name":"setBankAuthorized","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionVersion","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_code","type":"string"},{"name":"_contract","type":"address"}],"name":"setBankContract","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"codeHash","type":"bytes32"}],"name":"getNameByHash","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionContractByHash","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_code","type":"string"}],"name":"getBankExistance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getRegulator","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_code","type":"string"},{"name":"_account","type":"address"}],"name":"setBankAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_name","type":"string"},{"name":"_codePosition","type":"uint256"},{"name":"_codeLength","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":false,"stateMutability":"nonpayable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"number","type":"uint256"},{"indexed":false,"name":"code","type":"string"},{"indexed":false,"name":"name","type":"string"},{"indexed":false,"name":"bankAddress","type":"address"},{"indexed":false,"name":"contractAddress","type":"address"},{"indexed":false,"name":"authorized","type":"bool"},{"indexed":false,"name":"exists","type":"bool"}],"name":"BankChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"id","type":"uint256"},{"indexed":false,"name":"hashBankCode","type":"bytes32"},{"indexed":false,"name":"bankContract","type":"address"},{"indexed":false,"name":"hashCodeline","type":"bytes32"},{"indexed":false,"name":"codeline","type":"string"},{"indexed":false,"name":"version","type":"uint256"},{"indexed":false,"name":"status","type":"uint8"},{"indexed":false,"name":"timestamp","type":"uint256"},{"indexed":false,"name":"exists","type":"bool"}],"name":"TransactionChanged","type":"event"}]);
var blockcheqContract = web3.eth.contract([{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"checkId","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"position","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"account","type":"address"},{"name":"codeline","type":"string"}],"name":"addCheck","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"codeline","type":"string"},{"name":"amount","type":"uint256"},{"name":"date","type":"uint256"},{"name":"deliveredTo","type":"string"},{"name":"depositAccount","type":"string"},{"name":"securityCode","type":"string"}],"name":"fillAndDeliver","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"codeline","type":"string"}],"name":"getStatus","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"code","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"codeline","type":"string"},{"name":"amount","type":"uint256"},{"name":"date","type":"uint256"},{"name":"deliveredTo","type":"string"},{"name":"depositAccount","type":"string"},{"name":"securityCode","type":"string"}],"name":"fill","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeline","type":"string"},{"name":"amount","type":"uint256"}],"name":"getStatusCheck","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"codeline","type":"string"},{"name":"depositAccount","type":"string"},{"name":"securityCode","type":"string"}],"name":"accept","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"ownerAccount","type":"address"}],"name":"deleteAccount","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"checks","outputs":[{"name":"owner","type":"address"},{"name":"codeline","type":"string"},{"name":"amount","type":"uint256"},{"name":"processDate","type":"uint256"},{"name":"status","type":"uint8"},{"name":"reason","type":"string"},{"name":"depositAccount","type":"string"},{"name":"deliveredTo","type":"string"},{"name":"securityCode","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"}],"name":"checkVersions","outputs":[{"name":"status","type":"uint8"},{"name":"reason","type":"string"},{"name":"depositAccount","type":"string"},{"name":"deliveredTo","type":"string"},{"name":"securityCode","type":"bytes32"},{"name":"timestamp","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"codeline","type":"string"},{"name":"securityCode","type":"string"}],"name":"notAccept","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeline","type":"string"}],"name":"getReason","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"accountId","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeline","type":"string"},{"name":"amount","type":"uint256"}],"name":"getReasonCheck","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"codeline","type":"string"},{"name":"deliveredTo","type":"string"},{"name":"depositAccount","type":"string"},{"name":"securityCode","type":"string"},{"name":"securityCodeNew","type":"string"}],"name":"endorse","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"ownerAccount","type":"address"},{"name":"numberAccount","type":"string"},{"name":"balanceAccount","type":"uint256"}],"name":"updateAccount","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"codeline","type":"string"}],"name":"sendToHost","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"codeline","type":"string"},{"name":"status","type":"uint8"},{"name":"reason","type":"string"}],"name":"setStatus","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"ownerAccount","type":"address"}],"name":"restoreAccount","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"ownerAccount","type":"address"},{"name":"numberAccount","type":"string"},{"name":"balanceAccount","type":"uint256"}],"name":"addAccount","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"accounts","outputs":[{"name":"owner","type":"address"},{"name":"number","type":"string"},{"name":"balance","type":"uint256"},{"name":"exists","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"codeline","type":"string"},{"name":"amount","type":"uint256"},{"name":"date","type":"uint256"},{"name":"depositAccount","type":"string"},{"name":"securityCode","type":"string"}],"name":"deposit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"bankCode","type":"string"},{"name":"codePosition","type":"uint8"},{"name":"bankName","type":"string"},{"name":"decimalUnits","type":"uint8"},{"name":"tokenSymbol","type":"string"},{"name":"regulatorContract","type":"address"},{"name":"demostrator","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":false,"stateMutability":"nonpayable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"accountId","type":"uint256"},{"indexed":false,"name":"owner","type":"address"},{"indexed":false,"name":"number","type":"string"},{"indexed":false,"name":"balance","type":"uint256"},{"indexed":false,"name":"exists","type":"bool"}],"name":"AccountChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"owner","type":"address"},{"indexed":false,"name":"codeline","type":"string"},{"indexed":false,"name":"bytesCodeline","type":"bytes32"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"processDate","type":"uint256"},{"indexed":false,"name":"status","type":"uint8"},{"indexed":false,"name":"reason","type":"string"},{"indexed":false,"name":"depositAccount","type":"string"},{"indexed":false,"name":"deliveredTo","type":"string"},{"indexed":false,"name":"securityCode","type":"bytes32"}],"name":"CheckChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"checkId","type":"uint256"},{"indexed":false,"name":"version","type":"uint256"},{"indexed":false,"name":"status","type":"uint8"},{"indexed":false,"name":"reason","type":"string"},{"indexed":false,"name":"depositAccount","type":"string"},{"indexed":false,"name":"deliveredTo","type":"string"},{"indexed":false,"name":"securityCode","type":"bytes32"},{"indexed":false,"name":"timestamp","type":"uint256"}],"name":"VersionChanged","type":"event"}]);

var bank1Code = "072";
var bank2Code = "007";

var bank1Name = "Banco Santander Rio S.A.";
var bank2Name = "Banco de Galicia";
var deployGas = 6712390;
var transGas = 600000;


var deployBlockCheq = function(code, name, regulatorContract, demo, owner, callBack) {
	blockcheqContract.new(code, 0, name, 2, "â‚¬", regulatorContract, demo, {
		from: owner,
		data: '0x606060405234156200001057600080fd5b604051620062c8380380620062c88339810160405280805182019190602001805191906020018051820191906020018051919060200180518201919060200180519190602001805160008054600160a060020a03191633600160a060020a03161781559092509050808060018a80516200008f9291602001906200042a565b5060018054620000b491600691600260001961010083851615020190911604620004af565b506002805460ff191660ff8b161790556003888051620000d99291602001906200042a565b506004868051620000ef9291602001906200042a565b506005805460ff1990811660ff8a1617909155600780549091168515151761010060a860020a031916610100600160a060020a03881602179055600080805260096020527fec8156718a8372b1db44bb411437d0870f3e3790d4a08526d024ce1b0b668f6b556080604051908101604052806000600160a060020a03168152602001602060405190810160405280600081525081526020016000815260200160011515815250600c808054809190600101620001ac919062000529565b81548110620001b757fe5b906000526020600020906004020160008201518154600160a060020a031916600160a060020a0391909116178155602082015181600101908051620002019291602001906200042a565b50604082015181600201556060820151600391909101805460ff191691151591909117905550600080805260086020527f5eff886ea0ce6ca488a3d6e336d6c0f75f46d19b42c06ce5ee98e42c96d256c755604051604051908190039020600d80546000838152600a602052604090208190559194506200028690600183016200055d565b915060009050610120604051908101604052806000600160a060020a0316815260200160206040519081016040528060008152508152602001600081526020016000815260200182600a811115620002da57fe5b8152602001602060405190810160405280600081525081526020016020604051908101604052806000815250815260200160206040519081016040526000808252908252602090910152600d8054849081106200033357fe5b906000526020600020906009020160008201518154600160a060020a031916600160a060020a03919091161781556020820151816001019080516200037d9291602001906200042a565b506040820151816002015560608201518160030155608082015160048201805460ff1916600183600a811115620003b057fe5b021790555060a082015181600501908051620003d19291602001906200042a565b5060c082015181600601908051620003ee9291602001906200042a565b5060e0820151816007019080516200040b9291602001906200042a565b5061010082015160089091015550620006cf9950505050505050505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200046d57805160ff19168380011785556200049d565b828001600101855582156200049d579182015b828111156200049d57825182559160200191906001019062000480565b50620004ab9291506200058c565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620004ea57805485556200049d565b828001600101855582156200049d57600052602060002091601f016020900482015b828111156200049d5782548255916001019190600101906200050c565b8154818355818115116200055857600402816004028360005260206000209182019101620005589190620005ac565b505050565b8154818355818115116200055857600902816009028360005260206000209182019101620005589190620005f8565b620005a991905b80821115620004ab576000815560010162000593565b90565b620005a991905b80821115620004ab578054600160a060020a03191681556000620005db600183018262000684565b506000600282015560038101805460ff19169055600401620005b3565b620005a991905b80821115620004ab578054600160a060020a0319168155600062000627600183018262000684565b6000600283018190556003830181905560048301805460ff191690556200065390600584019062000684565b6200066360068301600062000684565b6200067360078301600062000684565b5060006008820155600901620005ff565b50805460018160011615610100020316600290046000825580601f10620006ac5750620006cc565b601f016020900490600052602060002090810190620006cc91906200058c565b50565b615be980620006df6000396000f3006060604052600436106101715763ffffffff60e060020a60003504166301fc59e1811461018357806306fdde03146101ab57806309218e9114610235578063111e54511461025e57806313fe6021146102bd57806322b05ed2146103dd57806324c12bf6146104525780632ec0cda4146104655780632f54bf6e14610585578063313ce567146105b857806338dcbb88146105cb5780633da5517b1461061e5780634c1b64cb146106f3578063618e7bd91461071257806361c02cab14610968578063678cabae14610b2957806370a0823114610bbc5780638baa14f414610bdb5780638da5cb5b14610c2c57806395d89b4114610c5b5780639bf8e5f314610c6e5780639dacacb414610c8d578063b4cde13914610ce0578063bfe388f614610e39578063e089d36e14610e9a578063e1e5d6f114610eeb578063eed608e614610f8a578063f235bfa414610fa9578063f2a40db81461100a578063f2fde38b146110c9578063fc1a6ab2146110e8575b341561017c57600080fd5b600080fd5b005b341561018e57600080fd5b6101996004356111c6565b60405190815260200160405180910390f35b34156101b657600080fd5b6101be6111d8565b60405160208082528190810183818151815260200191508051906020019080838360005b838110156101fa5780820151838201526020016101e2565b50505050905090810190601f1680156102275780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561024057600080fd5b610248611276565b60405160ff909116815260200160405180910390f35b341561026957600080fd5b61018160048035600160a060020a03169060446024803590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061127f95505050505050565b34156102c857600080fd5b61018160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094968635966020808201359750919550606081019450604090810135860180830194503592508291601f83018190048102019051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f016020809104026020016040519081016040528181529291906020840183838082843750949650611ab495505050505050565b34156103e857600080fd5b61042e60046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650611bab95505050505050565b6040518082600a81111561043e57fe5b60ff16815260200191505060405180910390f35b341561045d57600080fd5b6101be611c58565b341561047057600080fd5b61018160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094968635966020808201359750919550606081019450604090810135860180830194503592508291601f83018190048102019051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f016020809104026020016040519081016040528181529291906020840183838082843750949650611cc395505050505050565b341561059057600080fd5b6105a4600160a060020a0360043516611da6565b604051901515815260200160405180910390f35b34156105c357600080fd5b610248611dbd565b34156105d657600080fd5b61042e60046024813581810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496505093359350611dc692505050565b341561062957600080fd5b61018160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f016020809104026020016040519081016040528181529291906020840183838082843750949650611e3b95505050505050565b34156106fe57600080fd5b610181600160a060020a0360043516611fa8565b341561071d57600080fd5b610728600435612392565b604051808a600160a060020a0316600160a060020a031681526020018060200189815260200188815260200187600a81111561076057fe5b60ff1681526080810184905260a0838203810183528b546002600019600183161561010002019091160490820181905260208201916040810191606082019160c001908e9080156107f25780601f106107c7576101008083540402835291602001916107f2565b820191906000526020600020905b8154815290600101906020018083116107d557829003601f168201915b505085810384528954600260001961010060018416150201909116048082526020909101908a9080156108665780601f1061083b57610100808354040283529160200191610866565b820191906000526020600020905b81548152906001019060200180831161084957829003601f168201915b50508581038352885460026000196101006001841615020190911604808252602090910190899080156108da5780601f106108af576101008083540402835291602001916108da565b820191906000526020600020905b8154815290600101906020018083116108bd57829003601f168201915b505085810382528754600260001961010060018416150201909116048082526020909101908890801561094e5780601f106109235761010080835404028352916020019161094e565b820191906000526020600020905b81548152906001019060200180831161093157829003601f168201915b50509d505050505050505050505050505060405180910390f35b341561097357600080fd5b6109816004356024356123f5565b6040518087600a81111561099157fe5b60ff1681526080810184905260a0810183905260c0828203810160208301908152885460026000196001831615610100020190911604918301829052916040810191606082019160e001908a908015610a2b5780601f10610a0057610100808354040283529160200191610a2b565b820191906000526020600020905b815481529060010190602001808311610a0e57829003601f168201915b5050848103835288546002600019610100600184161502019091160480825260209091019089908015610a9f5780601f10610a7457610100808354040283529160200191610a9f565b820191906000526020600020905b815481529060010190602001808311610a8257829003601f168201915b5050848103825287546002600019610100600184161502019091160480825260209091019088908015610b135780601f10610ae857610100808354040283529160200191610b13565b820191906000526020600020905b815481529060010190602001808311610af657829003601f168201915b5050995050505050505050505060405180910390f35b3415610b3457600080fd5b61018160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284375094965061244595505050505050565b3415610bc757600080fd5b610199600160a060020a0360043516612617565b3415610be657600080fd5b6101be60046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061262995505050505050565b3415610c3757600080fd5b610c3f6127a0565b604051600160a060020a03909116815260200160405180910390f35b3415610c6657600080fd5b6101be6127af565b3415610c7957600080fd5b610199600160a060020a036004351661281a565b3415610c9857600080fd5b6101be60046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650509335935061282c92505050565b3415610ceb57600080fd5b61018160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284375094965061289e95505050505050565b3415610e4457600080fd5b61018160048035600160a060020a03169060446024803590810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496505093359350612a4a92505050565b3415610ea557600080fd5b61018160046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650612ebd95505050505050565b3415610ef657600080fd5b61018160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803560ff1690602001909190803590602001908201803590602001908080601f0160208091040260200160405190810160405281815292919060208401838380828437509496506131eb95505050505050565b3415610f9557600080fd5b610181600160a060020a03600435166133a6565b3415610fb457600080fd5b61018160048035600160a060020a03169060446024803590810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650509335935061360292505050565b341561101557600080fd5b611020600435613aee565b604051600160a060020a03851681526040810183905281151560608201526080602082018181528554600260001961010060018416150201909116049183018290529060a0830190869080156110b75780601f1061108c576101008083540402835291602001916110b7565b820191906000526020600020905b81548152906001019060200180831161109a57829003601f168201915b50509550505050505060405180910390f35b34156110d457600080fd5b610181600160a060020a0360043516613b32565b34156110f357600080fd5b61018160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094968635966020808201359750919550606081019450604090810135860180830194503592508291601f83018190048102019051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f016020809104026020016040519081016040528181529291906020840183838082843750949650613b7595505050505050565b600a6020526000908152604090205481565b60038054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561126e5780601f106112435761010080835404028352916020019161126e565b820191906000526020600020905b81548152906001019060200180831161125157829003601f168201915b505050505081565b60025460ff1681565b600080600061128d33611da6565b151561129857600080fd5b6007546101009004600160a060020a031663a0e1d694600160006040516020015260405160e060020a63ffffffff84160281526020600482019081528254600260001961010060018416150201909116046024830181905290918291604490910190849080156113495780601f1061131e57610100808354040283529160200191611349565b820191906000526020600020905b81548152906001019060200180831161132c57829003601f168201915b505092505050602060405180830381600087803b151561136857600080fd5b6102c65a03f1151561137957600080fd5b5050506040518051905080156114845750600754600160a060020a03308116916101009004166335817773600160006040516020015260405160e060020a63ffffffff841602815260206004820190815282546002600019610100600184161502019091160460248301819052909182916044909101908490801561143f5780601f106114145761010080835404028352916020019161143f565b820191906000526020600020905b81548152906001019060200180831161142257829003601f168201915b505092505050602060405180830381600087803b151561145e57600080fd5b6102c65a03f1151561146f57600080fd5b50505060405180519050600160a060020a0316145b151561148f57600080fd5b600160a060020a0385166000908152600960205260408120541180156114f05750600160a060020a038516600090815260096020526040902054600c805490919081106114d857fe5b600091825260209091206003600490920201015460ff165b15156114fb57600080fd5b836040518082805190602001908083835b6020831061152b5780518252601f19909201916020918201910161150c565b6001836020036101000a03801982511681845116179092525050509190910192506040915050519081900390206000818152600a60205260409020549093501561157457600080fd5b600d80546000858152600a60205260409020819055906115979060018301615899565b9150600090506101206040519081016040528086600160a060020a03168152602001858152602001600081526020016000815260200182600a8111156115d957fe5b81526020016040805190810160405280600c81526020017f49737375656420636865636b000000000000000000000000000000000000000081525081526020016020604051908101604052806000815250815260200160206040519081016040526000808252908252602090910152600d80548490811061165657fe5b90600052602060002090600902016000820151815473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03919091161781556020820151816001019080516116ab9291602001906158c5565b506040820151816002015560608201518160030155608082015160048201805460ff1916600183600a8111156116dd57fe5b021790555060a0820151816005019080516116fc9291602001906158c5565b5060c0820151816006019080516117179291602001906158c5565b5060e0820151816007019080516117329291602001906158c5565b5061010082015160089091015550600d80547f4ff61b0ba1398d6fcec2382497f16051aad31ee5aa59d5bea3827c5b44ddacb991908490811061177157fe5b6000918252602090912060099091020154600d8054600160a060020a039092169187918791879081106117a057fe5b906000526020600020906009020160020154600d878154811015156117c157fe5b906000526020600020906009020160030154600d888154811015156117e257fe5b6000918252602090912060046009909202010154600d805460ff909216918a90811061180a57fe5b9060005260206000209060090201600501600d8a81548110151561182a57fe5b9060005260206000209060090201600601600d8b81548110151561184a57fe5b9060005260206000209060090201600701600d8c81548110151561186a57fe5b906000526020600020906009020160080154604051600160a060020a038b1681526040810189905260608101889052608081018790526020810160a0820187600a8111156118b457fe5b60ff168152602001806020018060200180602001866000191660001916815260200185810385528e818151815260200191508051906020019080838360005b8381101561190b5780820151838201526020016118f3565b50505050905090810190601f1680156119385780820380516001836020036101000a031916815260200191505b5085810384528954600260001961010060018416150201909116048082526020909101908a9080156119ab5780601f10611980576101008083540402835291602001916119ab565b820191906000526020600020905b81548152906001019060200180831161198e57829003601f168201915b5050858103835288546002600019610100600184161502019091160480825260209091019089908015611a1f5780601f106119f457610100808354040283529160200191611a1f565b820191906000526020600020905b815481529060010190602001808311611a0257829003601f168201915b5050858103825287546002600019610100600184161502019091160480825260209091019088908015611a935780601f10611a6857610100808354040283529160200191611a93565b820191906000526020600020905b815481529060010190602001808311611a7657829003601f168201915b50509e50505050505050505050505050505060405180910390a15050505050565b600080611ac2886000613ed3565b91509150611acf81613f8c565b86600d82815481101515611adf57fe5b90600052602060002090600902016002018190555085600d82815481101515611b0457fe5b90600052602060002090600902016003018190555084600d82815481101515611b2957fe5b9060005260206000209060090201600701908051611b4b9291602001906158c5565b50611b568184614079565b611b9781600260408051908101604052600f81527f44656c69766572656420636865636b000000000000000000000000000000000060208201528b86614135565b611ba181856144c4565b5050505050505050565b6000806000836040518082805190602001908083835b60208310611be05780518252601f199092019160209182019101611bc1565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209150611c1782614514565b9050801515611c295760089250611c51565b600d805482908110611c3757fe5b600091825260209091206004600990920201015460ff1692505b5050919050565b60018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561126e5780601f106112435761010080835404028352916020019161126e565b600080611cd1886000613ed3565b91509150611cde81613f8c565b86600d82815481101515611cee57fe5b90600052602060002090600902016002018190555085600d82815481101515611d1357fe5b90600052602060002090600902016003018190555084600d82815481101515611d3857fe5b9060005260206000209060090201600701908051611d5a9291602001906158c5565b50611d658184614079565b611b9781600160408051908101604052600c81527f46696c6c656420636865636b000000000000000000000000000000000000000060208201528b86614135565b600054600160a060020a038281169116145b919050565b60055460ff1681565b600080836040518082805190602001908083835b60208310611df95780518252601f199092019160209182019101611dda565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050611e318184614544565b91505b5092915050565b600080611e49856002613ed3565b91509150611e5781846145f0565b15611f4d57611f4881600d83815481101515611e6f57fe5b6000918252602090912060046009909202010154600d805460ff9092169185908110611e9757fe5b90600052602060002090600902016005018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611f3c5780601f10611f1157610100808354040283529160200191611f3c565b820191906000526020600020905b815481529060010190602001808311611f1f57829003601f168201915b50505050508886614135565b611fa1565b611f5681613f8c565b611f9781600360408051908101604052600e81527f416363657074656420636865636b00000000000000000000000000000000000060208201528886614135565b611fa181856144c4565b5050505050565b6000611fb333611da6565b1515611fbe57600080fd5b6007546101009004600160a060020a031663a0e1d694600160006040516020015260405160e060020a63ffffffff841602815260206004820190815282546002600019610100600184161502019091160460248301819052909182916044909101908490801561206f5780601f106120445761010080835404028352916020019161206f565b820191906000526020600020905b81548152906001019060200180831161205257829003601f168201915b505092505050602060405180830381600087803b151561208e57600080fd5b6102c65a03f1151561209f57600080fd5b5050506040518051905080156121aa5750600754600160a060020a03308116916101009004166335817773600160006040516020015260405160e060020a63ffffffff84160281526020600482019081528254600260001961010060018416150201909116046024830181905290918291604490910190849080156121655780601f1061213a57610100808354040283529160200191612165565b820191906000526020600020905b81548152906001019060200180831161214857829003601f168201915b505092505050602060405180830381600087803b151561218457600080fd5b6102c65a03f1151561219557600080fd5b50505060405180519050600160a060020a0316145b15156121b557600080fd5b600160a060020a038216600090815260096020526040812054116121d857600080fd5b50600160a060020a038116600090815260096020526040812054600c80549192918390811061220357fe5b906000526020600020906004020160030160006101000a81548160ff0219169083151502179055507f4dcaa4559c4b27f5958620b52cdc8d574d3f5b1749809568f14bafbe6c2118e081600c8381548110151561225c57fe5b6000918252602090912060049091020154600c8054600160a060020a03909216918590811061228757fe5b9060005260206000209060040201600101600c858154811015156122a757fe5b906000526020600020906004020160020154600c868154811015156122c857fe5b600091825260209091206003600490920201015460ff16604051858152600160a060020a038516602082015260608101839052811515608082015260a0604082018181528554600260001961010060018416150201909116049183018290529060c08301908690801561237c5780601f106123515761010080835404028352916020019161237c565b820191906000526020600020905b81548152906001019060200180831161235f57829003601f168201915b5050965050505050505060405180910390a15050565b600d8054829081106123a057fe5b6000918252602090912060099091020180546002820154600383015460048401546008850154600160a060020a03909416955060018501949293919260ff909116916005820191600681019160079091019089565b600b6020528160005260406000208181548110151561241057fe5b6000918252602090912060069091020180546004820154600583015460ff909216945060018301935060028301926003019186565b600080600080612456866002613ed3565b9350935061246483866145f0565b1561255a5761255583600d8581548110151561247c57fe5b6000918252602090912060046009909202010154600d805460ff90921691879081106124a457fe5b90600052602060002090600902016005018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156125495780601f1061251e57610100808354040283529160200191612549565b820191906000526020600020905b81548152906001019060200180831161252c57829003601f168201915b50505050508988614135565b61260f565b6000838152600b6020526040902054915060028211156125c5575060001981016125b983600760408051908101604052601281527f4e6f7420416363657074656420636865636b0000000000000000000000000000602082015261470b565b61255583828887614c95565b6125ce83613f8c565b61260f83600760408051908101604052601281527f4e6f7420416363657074656420636865636b000000000000000000000000000060208201528988614135565b505050505050565b60086020526000908152604090205481565b612631615943565b600080836040518082805190602001908083835b602083106126645780518252601f199092019160209182019101612645565b6001836020036101000a03801982511681845116179092525050509190910192506040915050518091039020915061269b82614514565b90508015156126df5760408051908101604052600f81527f436865636b206e6f7420666f756e64000000000000000000000000000000000060208201529250611c51565b600d8054829081106126ed57fe5b90600052602060002090600902016005018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156127925780601f1061276757610100808354040283529160200191612792565b820191906000526020600020905b81548152906001019060200180831161277557829003601f168201915b505050505092505050919050565b600054600160a060020a031681565b60048054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561126e5780601f106112435761010080835404028352916020019161126e565b60096020526000908152604090205481565b612834615943565b6000836040518082805190602001908083835b602083106128665780518252601f199092019160209182019101612847565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050611e318184614f90565b6000806128ac876003613ed3565b915091506128ba81856145f0565b156129b0576129ab81600d838154811015156128d257fe5b6000918252602090912060046009909202010154600d805460ff90921691859081106128fa57fe5b90600052602060002090600902016005018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561299f5780601f106129745761010080835404028352916020019161299f565b820191906000526020600020905b81548152906001019060200180831161298257829003601f168201915b50505050508a86614135565b612a41565b6129b981613f8c565b85600d828154811015156129c957fe5b90600052602060002090600902016007019080516129eb9291602001906158c5565b506129f68184614079565b612a0081866151ea565b612a4181600260408051908101604052600f81527f44656c69766572656420636865636b000000000000000000000000000000000060208201528a86614135565b50505050505050565b6000612a5533611da6565b1515612a6057600080fd5b6007546101009004600160a060020a031663a0e1d694600160006040516020015260405160e060020a63ffffffff8416028152602060048201908152825460026000196101006001841615020190911604602483018190529091829160449091019084908015612b115780601f10612ae657610100808354040283529160200191612b11565b820191906000526020600020905b815481529060010190602001808311612af457829003601f168201915b505092505050602060405180830381600087803b1515612b3057600080fd5b6102c65a03f11515612b4157600080fd5b505050604051805190508015612c4c5750600754600160a060020a03308116916101009004166335817773600160006040516020015260405160e060020a63ffffffff8416028152602060048201908152825460026000196101006001841615020190911604602483018190529091829160449091019084908015612c075780601f10612bdc57610100808354040283529160200191612c07565b820191906000526020600020905b815481529060010190602001808311612bea57829003601f168201915b505092505050602060405180830381600087803b1515612c2657600080fd5b6102c65a03f11515612c3757600080fd5b50505060405180519050600160a060020a0316145b1515612c5757600080fd5b600160a060020a038416600090815260096020526040812054118015612cb85750600160a060020a038416600090815260096020526040902054600c80549091908110612ca057fe5b600091825260209091206003600490920201015460ff165b1515612cc357600080fd5b50600160a060020a038316600090815260096020526040902054600c805484919083908110612cee57fe5b9060005260206000209060040201600101908051612d109291602001906158c5565b5081600c82815481101515612d2157fe5b6000918252602080832060026004909302019190910192909255600160a060020a0386168152600890915260409020829055600c80547f4dcaa4559c4b27f5958620b52cdc8d574d3f5b1749809568f14bafbe6c2118e091839182908110612d8557fe5b6000918252602090912060049091020154600c8054600160a060020a039092169185908110612db057fe5b9060005260206000209060040201600101600c85815481101515612dd057fe5b906000526020600020906004020160020154600c86815481101515612df157fe5b600091825260209091206003600490920201015460ff16604051858152600160a060020a038516602082015260608101839052811515608082015260a0604082018181528554600260001961010060018416150201909116049183018290529060c083019086908015612ea55780601f10612e7a57610100808354040283529160200191612ea5565b820191906000526020600020905b815481529060010190602001808311612e8857829003601f168201915b5050965050505050505060405180910390a150505050565b600080612ec933611da6565b1515612ed457600080fd5b6007546101009004600160a060020a031663a0e1d694600160006040516020015260405160e060020a63ffffffff8416028152602060048201908152825460026000196101006001841615020190911604602483018190529091829160449091019084908015612f855780601f10612f5a57610100808354040283529160200191612f85565b820191906000526020600020905b815481529060010190602001808311612f6857829003601f168201915b505092505050602060405180830381600087803b1515612fa457600080fd5b6102c65a03f11515612fb557600080fd5b5050506040518051905080156130c05750600754600160a060020a03308116916101009004166335817773600160006040516020015260405160e060020a63ffffffff841602815260206004820190815282546002600019610100600184161502019091160460248301819052909182916044909101908490801561307b5780601f106130505761010080835404028352916020019161307b565b820191906000526020600020905b81548152906001019060200180831161305e57829003601f168201915b505092505050602060405180830381600087803b151561309a57600080fd5b6102c65a03f115156130ab57600080fd5b50505060405180519050600160a060020a0316145b15156130cb57600080fd5b6130d6836004613ed3565b915091506130e381613f8c565b61312481600560408051908101604052600d81527f436865636b20696e20686f73740000000000000000000000000000000000000060208201528686614135565b6131e681600d8381548110151561313757fe5b90600052602060002090600902016006018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156131dc5780601f106131b1576101008083540402835291602001916131dc565b820191906000526020600020905b8154815290600101906020018083116131bf57829003601f168201915b5050505050615227565b505050565b6000806131f733611da6565b151561320257600080fd5b846040518082805190602001908083835b602083106132325780518252601f199092019160209182019101613213565b6001836020036101000a03801982511681845116179092525050509190910192506040915050519081900390206000818152600a6020526040812054919350901161327c57600080fd5b61328582614514565b90506132918185615240565b151561329c57600080fd5b6132a581613f8c565b600084600a8111156132b357fe5b1415613386576000600d828154811015156132ca57fe5b9060005260206000209060090201600201819055506000600d828154811015156132f057fe5b906000526020600020906009020160030181905550602060405190810160405260008152600d80548390811061332257fe5b90600052602060002090600902016006019080516133449291602001906158c5565b50602060405190810160405260008152600d80548390811061336257fe5b90600052602060002090600902016007019080516133849291602001906158c5565b505b6133938185858886614135565b611fa181600d8381548110151561313757fe5b60006133b133611da6565b15156133bc57600080fd5b6007546101009004600160a060020a031663a0e1d694600160006040516020015260405160e060020a63ffffffff841602815260206004820190815282546002600019610100600184161502019091160460248301819052909182916044909101908490801561346d5780601f106134425761010080835404028352916020019161346d565b820191906000526020600020905b81548152906001019060200180831161345057829003601f168201915b505092505050602060405180830381600087803b151561348c57600080fd5b6102c65a03f1151561349d57600080fd5b5050506040518051905080156135a85750600754600160a060020a03308116916101009004166335817773600160006040516020015260405160e060020a63ffffffff84160281526020600482019081528254600260001961010060018416150201909116046024830181905290918291604490910190849080156135635780601f1061353857610100808354040283529160200191613563565b820191906000526020600020905b81548152906001019060200180831161354657829003601f168201915b505092505050602060405180830381600087803b151561358257600080fd5b6102c65a03f1151561359357600080fd5b50505060405180519050600160a060020a0316145b15156135b357600080fd5b600160a060020a038216600090815260096020526040812054116135d657600080fd5b50600160a060020a038116600090815260096020526040902054600c8054600191908390811061220357fe5b600061360d33611da6565b151561361857600080fd5b6007546101009004600160a060020a031663a0e1d694600160006040516020015260405160e060020a63ffffffff84160281526020600482019081528254600260001961010060018416150201909116046024830181905290918291604490910190849080156136c95780601f1061369e576101008083540402835291602001916136c9565b820191906000526020600020905b8154815290600101906020018083116136ac57829003601f168201915b505092505050602060405180830381600087803b15156136e857600080fd5b6102c65a03f115156136f957600080fd5b5050506040518051905080156138045750600754600160a060020a03308116916101009004166335817773600160006040516020015260405160e060020a63ffffffff84160281526020600482019081528254600260001961010060018416150201909116046024830181905290918291604490910190849080156137bf5780601f10613794576101008083540402835291602001916137bf565b820191906000526020600020905b8154815290600101906020018083116137a257829003601f168201915b505092505050602060405180830381600087803b15156137de57600080fd5b6102c65a03f115156137ef57600080fd5b50505060405180519050600160a060020a0316145b151561380f57600080fd5b50600160a060020a038316600090815260096020526040902054801515613a7057600c8054600160a060020a03861660009081526009602052604090208190559061385d9060018301615955565b905060806040519081016040908152600160a060020a038616825260208201859052810183905260016060820152600c80548390811061389957fe5b90600052602060002090600402016000820151815473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03919091161781556020820151816001019080516138ee9291602001906158c5565b50604082015181600201556060820151600391909101805460ff191691151591909117905550600160a060020a0384166000908152600860205260409020829055600c80547f4dcaa4559c4b27f5958620b52cdc8d574d3f5b1749809568f14bafbe6c2118e09183918791908390811061396457fe5b9060005260206000209060040201600101600c8581548110151561398457fe5b906000526020600020906004020160020154600c868154811015156139a557fe5b600091825260209091206003600490920201015460ff16604051858152600160a060020a038516602082015260608101839052811515608082015260a0604082018181528554600260001961010060018416150201909116049183018290529060c083019086908015613a595780601f10613a2e57610100808354040283529160200191613a59565b820191906000526020600020905b815481529060010190602001808311613a3c57829003601f168201915b5050965050505050505060405180910390a1613ae8565b600c805482908110613a7e57fe5b600091825260209091206003600490920201015460ff1615613a9f57600080fd5b6001600c82815481101515613ab057fe5b906000526020600020906004020160030160006101000a81548160ff02191690831515021790555082600c82815481101515612cee57fe5b50505050565b600c805482908110613afc57fe5b60009182526020909120600490910201805460028201546003830154600160a060020a0390921693506001909201919060ff1684565b613b3b33611da6565b1515613b4657600080fd5b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6000806000613b8385615305565b15613b8d57600080fd5b876040518082805190602001908083835b60208310613bbd5780518252601f199092019160209182019101613b9e565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209250613bf483614514565b9150811515613dfc577f4ff61b0ba1398d6fcec2382497f16051aad31ee5aa59d5bea3827c5b44ddacb960008960008a8a60086040805190810160405280600f81526020017f436865636b206e6f7420666f756e6400000000000000000000000000000000008152508c604051600160a060020a03891681526040810187905260608101869052608081018590526020810160a0820185600a811115613c9657fe5b60ff16815260200180602001806020018060200160200185810385528c818151815260200191508051906020019080838360005b83811015613ce2578082015183820152602001613cca565b50505050905090810190601f168015613d0f5780820380516001836020036101000a031916815260200191505b50858103845287818151815260200191508051906020019080838360005b83811015613d45578082015183820152602001613d2d565b50505050905090810190601f168015613d725780820380516001836020036101000a031916815260200191505b50858103835286818151815260200191508051906020019080838360005b83811015613da8578082015183820152602001613d90565b50505050905090810190601f168015613dd55780820380516001836020036101000a031916815260200191505b509485039052505060008252506040908101985096505050505050505180910390a1611ba1565b613e088288888761531b565b9050613e1382613f8c565b801515613e3e57613e3982613e28858a614544565b613e32868b614f90565b8b87614135565b611ba1565b86600d83815481101515613e4e57fe5b90600052602060002090600902016002018190555085600d83815481101515613e7357fe5b906000526020600020906009020160030181905550613ec982600460408051908101604052600f81527f4465706f736974656420636865636b000000000000000000000000000000000060208201528b87614135565b611ba182866144c4565b600080836040518082805190602001908083835b60208310613f065780518252601f199092019160209182019101613ee7565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209150613f3d82614514565b905082600a811115613f4b57fe5b600d805483908110613f5957fe5b600091825260209091206004600990920201015460ff16600a811115613f7b57fe5b14613f8557600080fd5b9250929050565b61407681600d83815481101515613f9f57fe5b6000918252602090912060046009909202010154600d805460ff9092169185908110613fc757fe5b90600052602060002090600902016005018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561406c5780601f106140415761010080835404028352916020019161406c565b820191906000526020600020905b81548152906001019060200180831161404f57829003601f168201915b505050505061470b565b50565b6000815115156140ae57600d8054600091908590811061409557fe5b60009182526020909120600860099092020101556131e6565b816040518082805190602001908083835b602083106140de5780518252601f1990920191602091820191016140bf565b6001836020036101000a03801982511681845116179092525050509190910192506040915050518091039020905080600d8481548110151561411c57fe5b6000918252602090912060086009909202010155505050565b6007546101009004600160a060020a031663a0e1d694600160006040516020015260405160e060020a63ffffffff84160281526020600482019081528254600260001961010060018416150201909116046024830181905290918291604490910190849080156141e65780601f106141bb576101008083540402835291602001916141e6565b820191906000526020600020905b8154815290600101906020018083116141c957829003601f168201915b505092505050602060405180830381600087803b151561420557600080fd5b6102c65a03f1151561421657600080fd5b5050506040518051905080156143215750600754600160a060020a03308116916101009004166335817773600160006040516020015260405160e060020a63ffffffff84160281526020600482019081528254600260001961010060018416150201909116046024830181905290918291604490910190849080156142dc5780601f106142b1576101008083540402835291602001916142dc565b820191906000526020600020905b8154815290600101906020018083116142bf57829003601f168201915b505092505050602060405180830381600087803b15156142fb57600080fd5b6102c65a03f1151561430c57600080fd5b50505060405180519050600160a060020a0316145b151561432c57600080fd5b83600d8681548110151561433c57fe5b60009182526020909120600460099092020101805460ff1916600183600a81111561436357fe5b021790555082600d8681548110151561437857fe5b906000526020600020906009020160050190805161439a9291602001906158c5565b507f4ff61b0ba1398d6fcec2382497f16051aad31ee5aa59d5bea3827c5b44ddacb9600d868154811015156143cb57fe5b6000918252602090912060099091020154600d8054600160a060020a0390921691859185918a9081106143fa57fe5b906000526020600020906009020160020154600d8a81548110151561441b57fe5b906000526020600020906009020160030154600d8b81548110151561443c57fe5b6000918252602090912060046009909202010154600d805460ff909216918d90811061446457fe5b9060005260206000209060090201600501600d8d81548110151561448457fe5b9060005260206000209060090201600601600d8e8154811015156144a457fe5b9060005260206000209060090201600701600d8f81548110151561186a57fe5b6144cd81615305565b15156145105780600d838154811015156144e357fe5b90600052602060002090600902016006019080516145059291602001906158c5565b506145108282615227565b5050565b6000818152600a6020526040812054151561453157506000611db8565b506000908152600a602052604090205490565b60008061455084614514565b90508015156145625760089150611e34565b600d80548290811061457057fe5b6000918252602090912060046009909202010154600d805460ff90921693506145b9918390811061459d57fe5b600091825260209091206004600990920201015460ff16615456565b156145c357600891505b6145cd8184615482565b156145d757600891505b6145e181846154cb565b15611e34575060089392505050565b6000805433600160a060020a03908116911614156146a25761461182615305565b8061469a5750816040518082805190602001908083835b602083106146475780518252601f199092019160209182019101614628565b6001836020036101000a0380198251168184511617909252505050919091019250604091505051908190039020600d80548590811061468257fe5b90600052602060002090600902016008015460001916145b159050614705565b600d805460009190859081106146b457fe5b9060005260206000209060090201600801546000191614158015614702575081604051808280519060200190808383602083106146475780518252601f199092019160209182019101614628565b90505b92915050565b6000838152600b602052604081208054600181016147298382615981565b9160005260206000209060060201600060c06040519081016040528087600a81111561475157fe5b8152602001868152602001600d8981548110151561476b57fe5b90600052602060002090600902016006018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156148105780601f106147e557610100808354040283529160200191614810565b820191906000526020600020905b8154815290600101906020018083116147f357829003601f168201915b50505050508152602001600d8981548110151561482957fe5b90600052602060002090600902016007018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156148ce5780601f106148a3576101008083540402835291602001916148ce565b820191906000526020600020905b8154815290600101906020018083116148b157829003601f168201915b50505050508152602001600d898154811015156148e757fe5b60009182526020918290206008600990920201015482524291015291905081518154829060ff1916600183600a81111561491d57fe5b021790555060208201518160010190805161493c9291602001906158c5565b506040820151816002019080516149579291602001906158c5565b506060820151816003019080516149729291602001906158c5565b506080820151600482015560a08201516005909101555050506000838152600b6020526040902080546000198101917fcb7d7b2bea63a641eb581bb2d84b51e420e945c99dfb7cb3d04174d342e62fe99186918491829081106149d157fe5b60009182526020808320600690920290910154898352600b9091526040909120805460ff9092169186908110614a0357fe5b9060005260206000209060060201600101600b60008a815260200190815260200160002086815481101515614a3457fe5b9060005260206000209060060201600201600b60008b815260200190815260200160002087815481101515614a6557fe5b9060005260206000209060060201600301600b60008c815260200190815260200160002088815481101515614a9657fe5b906000526020600020906006020160040154600b60008d815260200190815260200160002089815481101515614ac857fe5b9060005260206000209060060201600501546040518089815260200188815260200187600a811115614af657fe5b60ff1681526080810184905260a0810183905260c0828203810160208301908152885460026000196001831615610100020190911604918301829052916040810191606082019160e001908a908015614b905780601f10614b6557610100808354040283529160200191614b90565b820191906000526020600020905b815481529060010190602001808311614b7357829003601f168201915b5050848103835288546002600019610100600184161502019091160480825260209091019089908015614c045780601f10614bd957610100808354040283529160200191614c04565b820191906000526020600020905b815481529060010190602001808311614be757829003601f168201915b5050848103825287546002600019610100600184161502019091160480825260209091019088908015614c785780601f10614c4d57610100808354040283529160200191614c78565b820191906000526020600020905b815481529060010190602001808311614c5b57829003601f168201915b50509b50505050505050505050505060405180910390a150505050565b6000848152600b60205260409020805484908110614caf57fe5b9060005260206000209060060201600301600d85815481101515614ccf57fe5b90600052602060002090600902016007019080546001816001161561010002031660029004614cff9291906159ad565b506000848152600b60205260409020805484908110614d1a57fe5b906000526020600020906006020160040154600d85815481101515614d3b57fe5b6000918252602080832060086009909302019190910192909255858152600b90915260409020805484908110614d6d57fe5b6000918252602090912060069091020154600d805460ff9092169186908110614d9257fe5b60009182526020909120600460099092020101805460ff1916600183600a811115614db957fe5b02179055506000848152600b602052604090208054614e8d91869186908110614dde57fe5b90600052602060002090600602016002018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015614e835780601f10614e5857610100808354040283529160200191614e83565b820191906000526020600020905b815481529060010190602001808311614e6657829003601f168201915b50505050506151ea565b6000848152600b602052604090208054613ae891869186908110614ead57fe5b60009182526020808320600690920290910154888352600b9091526040909120805460ff9092169187908110614edf57fe5b90600052602060002090600602016001018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015614f845780601f10614f5957610100808354040283529160200191614f84565b820191906000526020600020905b815481529060010190602001808311614f6757829003601f168201915b50505050508585614135565b614f98615943565b6000614fa384614514565b9050801515614fe75760408051908101604052600f81527f436865636b206e6f7420666f756e64000000000000000000000000000000000060208201529150611e34565b600d805482908110614ff557fe5b90600052602060002090600902016005018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561509a5780601f1061506f5761010080835404028352916020019161509a565b820191906000526020600020905b81548152906001019060200180831161507d57829003601f168201915b505050505091506150cf600d828154811015156150b357fe5b600091825260209091206004600990920201015460ff1661552e565b1561510b5760408051908101604052601281527f4e6f7420416363657074656420636865636b0000000000000000000000000000602082015291505b61511d600d8281548110151561459d57fe5b156151595760408051908101604052601781527f436865636b20616c72656164792070726f636573736564000000000000000000602082015291505b6151638184615482565b1561519f5760408051908101604052600d81527f426f756e63656420636865636b00000000000000000000000000000000000000602082015291505b6151a981846154cb565b15611e345760408051908101604052601b81527f436865636b207769746820696e636f727265637420616d6f756e7400000000006020820152949350505050565b80600d838154811015156151fa57fe5b906000526020600020906009020160060190805161521c9291602001906158c5565b506145108282615546565b6152308161577f565b1515614510576145108282615546565b6000805433600160a060020a039081169116148015614702575060075460ff168061470257506004600d80548590811061527657fe5b600091825260209091206004600990920201015460ff16600a81111561529857fe5b14806152d357506005600d8054859081106152af57fe5b600091825260209091206004600990920201015460ff16600a8111156152d157fe5b145b80156147025750600682600a8111156152e857fe5b14806147025750600882600a8111156152fd57fe5b149392505050565b600061530f615943565b50818051159392505050565b600082600d8681548110151561532d57fe5b906000526020600020906009020160030154111561534d5750600061544e565b61535785836145f0565b156153645750600061544e565b6009600d80548790811061537457fe5b600091825260209091206004600990920201015460ff16600a81111561539657fe5b14806153d157506008600d8054879081106153ad57fe5b600091825260209091206004600990920201015460ff16600a8111156153cf57fe5b145b156153de5750600061544e565b6153f0600d8681548110151561459d57fe5b156153fd5750600061544e565b61540f600d868154811015156150b357fe5b1561541c5750600061544e565b6154268585615482565b156154335750600061544e565b61543d85856154cb565b1561544a5750600061544e565b5060015b949350505050565b6000600482600a81111561546657fe5b14806147055750600682600a81111561547b57fe5b1492915050565b60008160086000600d8681548110151561549857fe5b60009182526020808320600990920290910154600160a060020a0316835282019290925260400190205410905092915050565b600081158015906154fc5750600d8054849081106154e557fe5b906000526020600020906009020160020154600014155b80156147025750600d80548490811061551157fe5b906000526020600020906009020160020154821415905092915050565b6000600382600a81111561553e57fe5b141592915050565b600061555182615305565b15156131e657506000828152600b60205260408120546007549154600d80549293600160a060020a0361010090910481169363ca5b5d8f9390911691908790811061559857fe5b9060005260206000209060090201600601600d878154811015156155b857fe5b906000526020600020906009020160010185600d898154811015156155d957fe5b6000918252602082206004600990920201015460ff16904290604051602001526040518763ffffffff1660e060020a0281526004018087600160a060020a0316600160a060020a03168152602001806020018060200186815260200185600a81111561564157fe5b60ff16815260208101859052604084820381018452895460026001821615610100026000190190911604908201819052606090910190899080156156c65780601f1061569b576101008083540402835291602001916156c6565b820191906000526020600020905b8154815290600101906020018083116156a957829003601f168201915b505083810382528754600260001961010060018416150201909116048082526020909101908890801561573a5780601f1061570f5761010080835404028352916020019161573a565b820191906000526020600020905b81548152906001019060200180831161571d57829003601f168201915b505098505050505050505050602060405180830381600087803b151561575f57600080fd5b6102c65a03f1151561577057600080fd5b50505060405180515050505050565b6000615789615943565b600061579484615305565b156157a25760009250611c51565b5082905060005b6006546002600019610100600184161502019091160481101561588f57600254829060ff168201815181106157da57fe5b016020015160f860020a900460f860020a027effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916600682815460018160011615610100020316600290048110151561582e57fe5b81546001161561584d5790600052602060002090602091828204019190065b9054901a60f860020a027fff0000000000000000000000000000000000000000000000000000000000000016146158875760009250611c51565b6001016157a9565b5060019392505050565b8154818355818115116131e6576009028160090283600052602060002091820191016131e69190615a22565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061590657805160ff1916838001178555615933565b82800160010185558215615933579182015b82811115615933578251825591602001919060010190615918565b5061593f929150615ab3565b5090565b60206040519081016040526000815290565b8154818355818115116131e6576004028160040283600052602060002091820191016131e69190615acd565b8154818355818115116131e6576006028160060283600052602060002091820191016131e69190615b21565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106159e65780548555615933565b8280016001018555821561593357600052602060002091601f016020900482015b82811115615933578254825591600101919060010190615a07565b615ab091905b8082111561593f57805473ffffffffffffffffffffffffffffffffffffffff191681556000615a5a6001830182615b79565b6000600283018190556003830181905560048301805460ff19169055615a84906005840190615b79565b615a92600683016000615b79565b615aa0600783016000615b79565b5060006008820155600901615a28565b90565b615ab091905b8082111561593f5760008155600101615ab9565b615ab091905b8082111561593f57805473ffffffffffffffffffffffffffffffffffffffff191681556000615b056001830182615b79565b506000600282015560038101805460ff19169055600401615ad3565b615ab091905b8082111561593f57805460ff191681556000615b466001830182615b79565b615b54600283016000615b79565b615b62600383016000615b79565b506000600482018190556005820155600601615b27565b50805460018160011615610100020316600290046000825580601f10615b9f5750614076565b601f0160209004906000526020600020908101906140769190615ab35600a165627a7a72305820c3e8a495fc08312fdd3d60c14cc98a094aaa660dd0238dca5f27b3aeba858b840029',
		gas: deployGas
	}, function (e, contract) {
		console.log(e, contract);
		if (typeof contract.address !== 'undefined') {
			console.log('Blockcheq contract mined! address: "' + contract.address + '"\n');
			callBack(contract);
		} else {
			console.log('Waiting for BlockCheq\n');
			waitBlock(contract.transactionHash, function(){callBack(contract);})
		}
	});
}

var deployBlockBank = function(callBack) {
	blockbankContract.new("Regulator", 0, 3, {
		from: regulator,
		data: '0x606060405234156200001057600080fd5b604051620034fd380380620034fd833981016040528080518201919060200180519190602001805160008054600160a060020a033316600160a060020a031991821681179092556001805490911690911790559150600290508380516200007c9291602001906200008d565b506003919091556004555062000132565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620000d057805160ff191683800117855562000100565b8280016001018555821562000100579182015b8281111562000100578251825591602001919060010190620000e3565b506200010e92915062000112565b5090565b6200012f91905b808211156200010e576000815560010162000119565b90565b6133bb80620001426000396000f30060606040526004361061027b5763ffffffff7c0100000000000000000000000000000000000000000000000000000000600035041662dcb293811461028d57806306fdde031461031a5780631310b6931461032d57806313b73601146103575780631617d456146103bc578063185cba1c146103cf5780631b3ebe3b146103e5578063218459f9146103f857806322de3c91146104115780632cddad3b146104245780632f54bf6e1461047757806335817773146104965780633e3c48de146105035780633e76de53146105a85780634518f6b3146106075780634eec724f14610658578063545a2138146106a957806362d30ae0146106fc5780636932cf81146107515780636933a44c146107a257806373366bce146107b857806379d1c146146107ce5780637e105ce2146107e457806380ac70e21461080357806384b259691461087a5780638da5cb5b1461088d5780638e2cd8ad146108a0578063902fb4e0146108b957806396f7edae1461090c578063a0e1d69414610925578063a363ea9614610976578063a691ab40146109c9578063a8d5b9b7146109e2578063aaccc0db146109fb578063af987f3114610a14578063b96a641e14610a2a578063b9a5dbf314610a40578063bd5981ae14610a56578063bf68134014610aa7578063c3b95b1b14610afa578063ca5b5d8f14610b10578063dd8fee1414610bc1578063df2043b614610bd4578063e069c0d114610c67578063e3298c9f14610c80578063e7615a4f14610cd5578063e8b5a5a614610d28578063f03590bf14610d84578063f14d027714610d9a578063f2fde38b14610db3578063f7dcd27e14610dd2578063f7e317f414610e23578063f94f9d0e14610e36575b341561028657600080fd5b600080fd5b005b341561029857600080fd5b6102a3600435610e92565b60405160208082528190810183818151815260200191508051906020019080838360005b838110156102df5780820151838201526020016102c7565b50505050905090810190601f16801561030c5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561032557600080fd5b6102a3610ec5565b341561033857600080fd5b610343600435610f63565b604051901515815260200160405180910390f35b341561036257600080fd5b6103aa60046024813581810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496505093359350610f8292505050565b60405190815260200160405180910390f35b34156103c757600080fd5b6103aa610ff5565b34156103da57600080fd5b6103aa600435610ffb565b34156103f057600080fd5b6103aa61100d565b341561040357600080fd5b6103aa600435602435611014565b341561041c57600080fd5b6103aa611074565b341561042f57600080fd5b6102a360046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650509335935061109992505050565b341561048257600080fd5b610343600160a060020a036004351661110b565b34156104a157600080fd5b6104e760046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061111f95505050505050565b604051600160a060020a03909116815260200160405180910390f35b341561050e57600080fd5b6103aa60046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284375094965050600160a060020a0385358116956020013516935061118992505050565b34156105b357600080fd5b61028b60048035600160a060020a03169060446024803590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061150f95505050505050565b341561061257600080fd5b6104e760046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061155d95505050505050565b341561066357600080fd5b6103aa60046024813581810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496506115c795505050505050565b34156106b457600080fd5b6104e760046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650509335935061163192505050565b341561070757600080fd5b61028b60046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965050505091351515915061169c9050565b341561075c57600080fd5b6102a360046024813581810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496506118d995505050505050565b34156107ad57600080fd5b6104e760043561194a565b34156107c357600080fd5b610343600435611968565b34156107d957600080fd5b6103aa600435611987565b34156107ef57600080fd5b6102a3600160a060020a03600435166119ad565b341561080e57600080fd5b61085660046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965050933593506119d792505050565b6040518082600a81111561086657fe5b60ff16815260200191505060405180910390f35b341561088557600080fd5b6103aa611a42565b341561089857600080fd5b6104e7611a48565b34156108ab57600080fd5b610343600435602435611a57565b34156108c457600080fd5b6103aa60046024813581810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496505093359350611abb92505050565b341561091757600080fd5b6102a3600435602435611b26565b341561093057600080fd5b61034360046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650611c4595505050505050565b341561098157600080fd5b6102a360046024813581810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496505093359350611caf92505050565b34156109d457600080fd5b6103aa600435602435611d21565b34156109ed57600080fd5b610856600435602435611d81565b3415610a0657600080fd5b6103aa600435602435611de5565b3415610a1f57600080fd5b6102a3600435611e45565b3415610a3557600080fd5b6104e7600435611f0b565b3415610a4b57600080fd5b6103aa600435611f29565b3415610a6157600080fd5b6103aa60046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650611f6895505050505050565b3415610ab257600080fd5b61034360046024813581810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496505093359350611fd292505050565b3415610b0557600080fd5b6103aa60043561203d565b3415610b1b57600080fd5b6103aa60048035600160a060020a03169060446024803590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405281815292919060208401838380828437509496505084359460ff602082013516945060400135925061204e915050565b3415610bcc57600080fd5b6104e7612700565b3415610bdf57600080fd5b61028b60046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284375094965061270f95505050505050565b3415610c7257600080fd5b6102a36004356024356128b4565b3415610c8b57600080fd5b61028b60046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965050505091351515915061297a9050565b3415610ce057600080fd5b6103aa60046024813581810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496505093359350612b2592505050565b3415610d3357600080fd5b61028b60046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965050509235600160a060020a03169250612b90915050565b3415610d8f57600080fd5b6102a3600435612d49565b3415610da557600080fd5b6104e7600435602435612dd8565b3415610dbe57600080fd5b61028b600160a060020a0360043516612e42565b3415610ddd57600080fd5b61034360046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650612e7895505050505050565b3415610e2e57600080fd5b6104e7612ee2565b3415610e4157600080fd5b61028b60046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965050509235600160a060020a03169250612ef1915050565b610e9a6131c1565b600082815260096020526040902054801515610eb557600080fd5b610ebe81611e45565b9392505050565b60028054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610f5b5780601f10610f3057610100808354040283529160200191610f5b565b820191906000526020600020905b815481529060010190602001808311610f3e57829003601f168201915b505050505081565b60009081526007602052604090206004015460a060020a900460ff1690565b600080836040518082805190602001908083835b60208310610fb55780518252601f199092019160209182019101610f96565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610fed8184611014565b949350505050565b60035481565b60009081526007602052604090205490565b6005545b90565b6000828152600960205260408120548181151561103057600080fd5b506000818152600a602090815260408083208784529091529020805481908590811061105857fe5b9060005260206000209060080201600201549250505092915050565b60015460009033600160a060020a0390811691161461109257600080fd5b5060065490565b6110a16131c1565b6000836040518082805190602001908083835b602083106110d35780518252601f1990920191602091820191016110b4565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610fed81846128b4565b600054600160a060020a0391821691161490565b600080826040518082805190602001908083835b602083106111525780518252601f199092019160209182019101611133565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610ebe8161194a565b600154600090819033600160a060020a039081169116146111a957600080fd5b856040518082805190602001908083835b602083106111d95780518252601f1990920191602091820191016111ba565b6001836020036101000a038019825116818451161790925250505091909101925060409150505190819003902060008181526007602052604090206004015490915060a860020a900460ff161561122f57600080fd5b60008181526007602052604090206002018580516112519291602001906131d3565b506000818152600760205260409020600381018054600160a060020a03808816600160a060020a03199283161790925560048301805475ff0000000000000000000000000000000000000000001974ff00000000000000000000000000000000000000001994891691909316179290921660a060020a171660a860020a17905560019081015460029181161561010002600019011604151561132f576001600580548060010182816113039190613251565b600092835260208084209290920185905584835260079091526040909120919003908190559150611341565b60008181526007602052604090205491505b60008181526007602052604090206001018680516113639291602001906131d3565b50600160a060020a0380851660009081526008602090815260408083208590558483526007909152908190208054600382015460048301546000805160206133708339815191529592946001850194600201939283169282169160ff60a060020a820481169260a860020a909204169051878152600160a060020a0385811660608301528416608082015282151560a082015281151560c082015260e0602082018181528854600260018216156101009081026000190190921604928401839052909160408401918401908a90801561147d5780601f106114525761010080835404028352916020019161147d565b820191906000526020600020905b81548152906001019060200180831161146057829003601f168201915b50508381038252885460026000196101006001841615020190911604808252602090910190899080156114f15780601f106114c6576101008083540402835291602001916114f1565b820191906000526020600020905b8154815290600101906020018083116114d457829003601f168201915b5050995050505050505050505060405180910390a150949350505050565b60015433600160a060020a0390811691161461152a57600080fd5b60018054600160a060020a031916600160a060020a03841617905560028180516115589291602001906131d3565b505050565b600080826040518082805190602001908083835b602083106115905780518252601f199092019160209182019101611571565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610ebe81611f0b565b600080826040518082805190602001908083835b602083106115fa5780518252601f1990920191602091820191016115db565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610ebe81611987565b600080836040518082805190602001908083835b602083106116645780518252601f199092019160209182019101611645565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610fed8184612dd8565b60015460009033600160a060020a039081169116146116ba57600080fd5b826040518082805190602001908083835b602083106116ea5780518252601f1990920191602091820191016116cb565b6001836020036101000a03801982511681845116179092525050509190910192506040915050519081900390206000818152600760205260409081902060048101805475ff000000000000000000000000000000000000000000191660a860020a8715158102919091179182905582546003840154959650600080516020613370833981519152959094600185019460020193600160a060020a03928316939281169260ff60a060020a8304811693919092049091169051878152600160a060020a0385811660608301528416608082015282151560a082015281151560c082015260e0602082018181528854600260018216156101009081026000190190921604928401839052909160408401918401908a90801561184b5780601f106118205761010080835404028352916020019161184b565b820191906000526020600020905b81548152906001019060200180831161182e57829003601f168201915b50508381038252885460026000196101006001841615020190911604808252602090910190899080156118bf5780601f10611894576101008083540402835291602001916118bf565b820191906000526020600020905b8154815290600101906020018083116118a257829003601f168201915b5050995050505050505050505060405180910390a1505050565b6118e16131c1565b6000826040518082805190602001908083835b602083106119135780518252601f1990920191602091820191016118f4565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610ebe81612d49565b600090815260076020526040902060040154600160a060020a031690565b60009081526007602052604090206004015460a860020a900460ff1690565b6000818152600960209081526040808320548352600a8252808320938352929052205490565b6119b56131c1565b600160a060020a038216600090815260086020526040902054610ebe81611e45565b600080836040518082805190602001908083835b60208310611a0a5780518252601f1990920191602091820191016119eb565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610fed8184611d81565b60045481565b600054600160a060020a031681565b60008281526009602052604081205481811515611a7357600080fd5b506000818152600a6020908152604080832087845290915290208054819085908110611a9b57fe5b600091825260209091206008909102016007015460ff1695945050505050565b600080836040518082805190602001908083835b60208310611aee5780518252601f199092019160209182019101611acf565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610fed8184611d21565b611b2e6131c1565b60008381526009602052604081205490811515611b4a57600080fd5b506000818152600a60209081526040808320878452909152812080549091600791839087908110611b7757fe5b906000526020600020906008020160000154600019166000191681526020019081526020016000206001018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611c365780601f10611c0b57610100808354040283529160200191611c36565b820191906000526020600020905b815481529060010190602001808311611c1957829003601f168201915b50505050509250505092915050565b600080826040518082805190602001908083835b60208310611c785780518252601f199092019160209182019101611c59565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610ebe81610f63565b611cb76131c1565b6000836040518082805190602001908083835b60208310611ce95780518252601f199092019160209182019101611cca565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610fed8184611b26565b60008281526009602052604081205481811515611d3d57600080fd5b506000818152600a6020908152604080832087845290915290208054819085908110611d6557fe5b9060005260206000209060080201600601549250505092915050565b60008281526009602052604081205481811515611d9d57600080fd5b506000818152600a6020908152604080832087845290915290208054819085908110611dc557fe5b600091825260209091206008909102016005015460ff1695945050505050565b60008281526009602052604081205481811515611e0157600080fd5b506000818152600a6020908152604080832087845290915290208054819085908110611e2957fe5b9060005260206000209060080201600401549250505092915050565b611e4d6131c1565b6007600083600019166000191681526020019081526020016000206001018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611eff5780601f10611ed457610100808354040283529160200191611eff565b820191906000526020600020905b815481529060010190602001808311611ee257829003601f168201915b50505050509050919050565b600090815260076020526040902060030154600160a060020a031690565b60015460009033600160a060020a03908116911614611f4757600080fd5b6006805483908110611f5557fe5b9060005260206000209001549050919050565b600080826040518082805190602001908083835b60208310611f9b5780518252601f199092019160209182019101611f7c565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610ebe81610ffb565b600080836040518082805190602001908083835b602083106120055780518252601f199092019160209182019101611fe6565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610fed8184611a57565b6000600582815481101515611f5557fe5b600160a060020a038616600090815260086020908152604080832054808452600790925282206004810154839081908190819060a860020a900460ff1680156120a25750600485015460a060020a900460ff165b15156120ad57600080fd5b6120bc8c60035460045461308b565b6040518082805190602001908083835b602083106120eb5780518252601f1990920191602091820191016120cc565b6001836020036101000a038019825116818451161790925250505091909101925060409150505190819003902060008181526007602052604090206004810154919550935060a860020a900460ff1680156121515750600483015460a060020a900460ff165b151561215c57600080fd5b6123068560e0604051908101604052908160008201548152602001600182018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561220f5780601f106121e45761010080835404028352916020019161220f565b820191906000526020600020905b8154815290600101906020018083116121f257829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156122b15780601f10612286576101008083540402835291602001916122b1565b820191906000526020600020905b81548152906001019060200180831161229457829003601f168201915b50505091835250506003820154600160a060020a039081166020830152600490920154918216604082015260ff60a060020a830481161515606083015260a860020a9092049091161515608090910152613180565b8061239457506123948360e0604051908101604052908160008201548152602001600182018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561220f5780601f106121e45761010080835404028352916020019161220f565b151561239f57600080fd5b8a6040518082805190602001908083835b602083106123cf5780518252601f1990920191602091820191016123b0565b6001836020036101000a0380198251168184511617909252505050919091019250604091505051809103902091508b6040518082805190602001908083835b6020831061242d5780518252601f19909201916020918201910161240e565b6001836020036101000a03801982511681845116179092525050509190910192506040915050519081900390206000858152600a6020908152604080832084845290915290205490915015156124b057600081815260096020526040902084905560068054600181016124a08382613251565b5060009182526020909120018190555b6000848152600a6020908152604080832084845290915290208054600181016124d98382613275565b9160005260206000209060080201600061010060405190810160409081528a825260048a0154600160a060020a031660208301528101869052606081018f9052608081018e905260a081018d600a81111561253057fe5b8152602081018d90526001604090910152919050815181556020820151600182018054600160a060020a031916600160a060020a0392909216919091179055604082015160028201556060820151816003019080516125939291602001906131d3565b506080820151816004015560a082015160058201805460ff1916600183600a8111156125bb57fe5b021790555060c0820151816006015560e0820151600791909101805460ff19169115159190911790555060048601549097507f272b16656d7c37532832c541a5ae73f4cd3e99da156201657d8a93a661c475e39088908890600160a060020a0316858f8f8f8f600160405189815260208101899052600160a060020a03881660408201526060810187905260a081018590526080810160c0820185600a81111561266157fe5b60ff16815260200184815260200183151515158152602001828103825287818151815260200191508051906020019080838360005b838110156126ae578082015183820152602001612696565b50505050905090810190601f1680156126db5780820380516001836020036101000a031916815260200191505b509a505050505050505050505060405180910390a15050505050509695505050505050565b600154600160a060020a031681565b60015460009033600160a060020a0390811691161461272d57600080fd5b826040518082805190602001908083835b6020831061275d5780518252601f19909201916020918201910161273e565b6001836020036101000a038019825116818451161790925250505091909101925060409150505190819003902060008181526007602052604090206004015490915060a860020a900460ff1615156127b457600080fd5b60008181526007602052604090206002018280516127d69291602001906131d3565b50600081815260076020526040908190208054600382015460048301546000805160206133708339815191529492936001810193600290910192600160a060020a03908116929081169160ff60a060020a830481169260a860020a9004169051878152600160a060020a0385811660608301528416608082015282151560a082015281151560c082015260e0602082018181528854600260018216156101009081026000190190921604928401839052909160408401918401908a90801561184b5780601f106118205761010080835404028352916020019161184b565b6128bc6131c1565b600083815260096020526040812054908115156128d857600080fd5b506000818152600a602090815260408083208784529091529020805481908590811061290057fe5b90600052602060002090600802016003018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611c365780601f10611c0b57610100808354040283529160200191611c36565b60015460009033600160a060020a0390811691161461299857600080fd5b826040518082805190602001908083835b602083106129c85780518252601f1990920191602091820191016129a9565b6001836020036101000a038019825116818451161790925250505091909101925060409150505190819003902060008181526007602052604090206004015490915060a860020a900460ff161515612a1f57600080fd5b6000818152600760205260409081902060048101805474ff0000000000000000000000000000000000000000191660a060020a86151581029190911791829055825460038401546000805160206133708339815191529591946001810194600290910193600160a060020a03928316939282169260ff91830482169260a860020a90049091169051878152600160a060020a0385811660608301528416608082015282151560a082015281151560c082015260e0602082018181528854600260018216156101009081026000190190921604928401839052909160408401918401908a90801561184b5780601f106118205761010080835404028352916020019161184b565b600080836040518082805190602001908083835b60208310612b585780518252601f199092019160209182019101612b39565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610fed8184611de5565b60015460009033600160a060020a03908116911614612bae57600080fd5b826040518082805190602001908083835b60208310612bde5780518252601f199092019160209182019101612bbf565b6001836020036101000a038019825116818451161790925250505091909101925060409150505190819003902060008181526007602052604090206004015490915060a860020a900460ff161515612c3557600080fd5b6000818152600760208181526040808420600481018054600160a060020a039081168752600885528387208790558154600160a060020a031916898216178083558116875283872088905595879052939092528154600383015493546000805160206133708339815191529591946001850194600201939083169282169160a060020a810460ff9081169260a860020a909204169051878152600160a060020a0385811660608301528416608082015282151560a082015281151560c082015260e0602082018181528854600260018216156101009081026000190190921604928401839052909160408401918401908a90801561184b5780601f106118205761010080835404028352916020019161184b565b612d516131c1565b6007600083600019166000191681526020019081526020016000206002018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611eff5780601f10611ed457610100808354040283529160200191611eff565b60008281526009602052604081205481811515612df457600080fd5b506000818152600a6020908152604080832087845290915290208054819085908110612e1c57fe5b6000918252602090912060089091020160010154600160a060020a031695945050505050565b612e4b3361110b565b1515612e5657600080fd5b60008054600160a060020a031916600160a060020a0392909216919091179055565b600080826040518082805190602001908083835b60208310612eab5780518252601f199092019160209182019101612e8c565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610ebe81611968565b600154600160a060020a031690565b60015460009033600160a060020a03908116911614612f0f57600080fd5b826040518082805190602001908083835b60208310612f3f5780518252601f199092019160209182019101612f20565b6001836020036101000a038019825116818451161790925250505091909101925060409150505190819003902060008181526007602052604090206004015490915060a860020a900460ff161515612f9657600080fd5b60008181526007602052604090819020600381018054600160a060020a031916600160a060020a038681169190911791829055825460048401546000805160206133708339815191529591946001810194600290910193908116929082169160a060020a810460ff9081169260a860020a909204169051878152600160a060020a0385811660608301528416608082015282151560a082015281151560c082015260e0602082018181528854600260018216156101009081026000190190921604928401839052909160408401918401908a90801561184b5780601f106118205761010080835404028352916020019161184b565b6130936131c1565b61309b6131c1565b6130a36131c1565b6000869250846040518059106130b65750595b818152601f19601f830116810160200160405290509150600090505b848110156131765782818701815181106130e857fe5b01602001517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000282828151811061313e57fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053506001016130d2565b5095945050505050565b600033600160a060020a03168260600151600160a060020a031614806131bb575033600160a060020a03168260800151600160a060020a0316145b92915050565b60206040519081016040526000815290565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061321457805160ff1916838001178555613241565b82800160010185558215613241579182015b82811115613241578251825591602001919060010190613226565b5061324d9291506132a1565b5090565b815481835581811511611558576000838152602090206115589181019083016132a1565b8154818355818115116115585760080281600802836000526020600020918201910161155891906132bb565b61101191905b8082111561324d57600081556001016132a7565b61101191905b8082111561324d576000808255600182018054600160a060020a0319169055600282018190556132f46003830182613328565b5060006004820181905560058201805460ff19908116909155600683019190915560078201805490911690556008016132c1565b50805460018160011615610100020316600290046000825580601f1061334e575061336c565b601f01602090049060005260206000209081019061336c91906132a1565b505600c12c629deecc6b3b3afacaf99b9f75e9efc5a853209d9d004e52bdc07365816fa165627a7a72305820ed5335c4f8f27ca8097fc179618e8bfe03328d3ffa1717da8ff10a003314f1bd0029',
		gas: deployGas
	}, function (e, contract) {
		console.log(e, contract);
		if (typeof contract.address !== 'undefined') {
			console.log('Blockbank contract mined! address: "' + contract.address + '"\n');
			callBack(contract);
		} else {
			console.log('Waiting for Blockbank\n');
			waitBlock(contract.transactionHash, function(){callBack(contract);})
		}
	});
}

var addBanksAccountCheqs = function(blockBank, blockCheq1, blockCheq2){
	blockBank.addBank(bank1Code, bank1Name, bank1, blockCheq1.address, {from:regulator,gas:transGas});
	blockBank.addBank(bank2Code, bank2Name, bank2, blockCheq2.address, {from:regulator,gas:transGas});
	console.log("Banks added ");
	
	// add accounts
	blockCheq1.addAccount(user1Addr, bank1Code+"00018111111111119", 300000000000, {from:bank1,gas:transGas});
	blockCheq1.addAccount(user2Addr, bank1Code+"00028222222222229", 300000000000, {from:bank1,gas:transGas});
	blockCheq2.addAccount(user3Addr, bank2Code+"00038333333333339", 300000000000, {from:bank2,gas:transGas});
	blockCheq2.addAccount(user4Addr, bank2Code+"00048444444444449", 300000000000, {from:bank2,gas:transGas});
	console.log("Accounts added ");

	// add checks
	// Formato: -BBBSSSPPPPNNNNNNNNCCCCCCCCCCCd
	// B=Banco, S=Sucursal, P=CodPostal, N=NumCheque, C=NumCuenta
	blockCheq1.addCheck(user1Addr, "07200100010000000111111111111",  {from:bank1,gas:transGas});
	blockCheq1.addCheck(user1Addr, "07200100010000000211111111111",  {from:bank1,gas:transGas});
	blockCheq1.addCheck(user1Addr, "07200100010000000311111111111",  {from:bank1,gas:transGas});
	blockCheq1.addCheck(user2Addr, "07200200020000000122222222222",  {from:bank1,gas:transGas});
	blockCheq1.addCheck(user2Addr, "07200200020000000222222222222",  {from:bank1,gas:transGas});
	blockCheq1.addCheck(user2Addr, "07200200020000000322222222222",  {from:bank1,gas:transGas});

	blockCheq2.addCheck(user3Addr, "00700300030000000133333333333",  {from:bank2,gas:transGas});
	blockCheq2.addCheck(user3Addr, "00700300030000000233333333333",  {from:bank2,gas:transGas});
	blockCheq2.addCheck(user3Addr, "00700300030000000333333333333",  {from:bank2,gas:transGas});
	blockCheq2.addCheck(user4Addr, "00700400040000000144444444444",  {from:bank2,gas:transGas});
	blockCheq2.addCheck(user4Addr, "00700400040000000244444444444",  {from:bank2,gas:transGas});
	blockCheq2.addCheck(user4Addr, "00700400040000000344444444444",  {from:bank2,gas:transGas});
	console.log("Checks added ");

	// print info
	console.log("----------------------- CONTRACTS ----------------------");
	console.log("Blockbank deployed at " + blockBank.address);
	console.log("First BlockCheck deployed at " + blockCheq1.address);
	console.log("Second BlockCheck deployed at " + blockCheq2.address);
	console.log("----------------------- ACCOUNTS -----------------------");
	console.log('regulator: ' + regulator);
	console.log('bank 1: ' + bank1);
	console.log('bank 2: ' + bank2);
	console.log('user 1: ' + user1Addr);
	console.log('user 2: ' + user2Addr);
	console.log('user 3: ' + user3Addr);
	console.log('user 4: ' + user4Addr);
	
}

function waitBlock(transhash, callback) {
  function innerWaitBlock() {
    var receipt = web3.eth.getTransactionReceipt(transhash);
    if (receipt && receipt.contractAddress) {
	  callback();
    } else {
      console.log("Waiting a mined block to include your contract... currently in block " + web3.eth.blockNumber);
      setTimeout(innerWaitBlock, 2000);
    }
  }
}

console.log('Calling contract creation');
deployBlockBank(function(blockBank){
	console.log('BlockBank ready, calling Blockcheq');
	deployBlockCheq(bank1Code, bank1Name, blockBank.address, true, bank1, function(blockCheq1) {
		console.log('Blockcheq ready, calling Blockcheq');
		deployBlockCheq(bank2Code, bank2Name, blockBank.address, false, bank2, function(blockCheq2) {
			console.log('Blockcheq ready, calling config');
			addBanksAccountCheqs(blockBank, blockCheq1, blockCheq2);
		});
	});
});

