var regulator = web3.personal.listAccounts[0];
var bank1 = web3.personal.listAccounts[1];
var bank2 = web3.personal.listAccounts[2];
var user1Addr = web3.personal.listAccounts[3];
var user2Addr = web3.personal.listAccounts[4];

console.log("Unlocking regulator");
web3.personal.unlockAccount(regulator,"",15000);
console.log("Unlocking bank1");
web3.personal.unlockAccount(bank1,"garfield123",15000);
console.log("Unlocking bank2");
web3.personal.unlockAccount(bank2,"garfield123",15000);

var blockbankContract = web3.eth.contract([{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"}],"name":"getBankCodeByAccountHash","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeHash","type":"bytes32"}],"name":"getBankAuthorizedByHash","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionCodelineHash","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"codePosition","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeHash","type":"bytes32"}],"name":"getBankIdHash","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getBanksLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionCodelineHashByHash","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getAccountLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"bankAddress","type":"address"},{"name":"_depositAccount","type":"string"},{"name":"codeline","type":"string"},{"name":"version","type":"uint256"},{"name":"status","type":"uint8"}],"name":"addTransaction","outputs":[{"name":"id","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionCodeline","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_code","type":"string"}],"name":"getContract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"isTransactionsAccesible","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_code","type":"string"},{"name":"_name","type":"string"},{"name":"_account","type":"address"},{"name":"_contract","type":"address"}],"name":"addBank","outputs":[{"name":"id","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_newRegulator","type":"address"},{"name":"_name","type":"string"}],"name":"transferRegulator","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_code","type":"string"}],"name":"getAccount","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"}],"name":"getTransactionsLength","outputs":[{"name":"length","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionContract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_code","type":"string"},{"name":"_exists","type":"bool"}],"name":"setBankExistance","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_code","type":"string"}],"name":"getName","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeHash","type":"bytes32"}],"name":"getContractByHash","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeHash","type":"bytes32"}],"name":"getBankExistanceByHash","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"}],"name":"getTransactionsLengthByHash","outputs":[{"name":"length","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_bankAddress","type":"address"}],"name":"getCode","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionStatus","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"codeLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionExistanceByHash","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionTimestamp","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionBankCodeByHash","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_code","type":"string"}],"name":"getBankAuthorized","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionBankCode","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionTimestampByHash","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionStatusByHash","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionVersionByHash","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeHash","type":"bytes32"}],"name":"getCodeByHash","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeHash","type":"bytes32"}],"name":"getAccountByHash","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"index","type":"uint256"}],"name":"getAccountHash","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_code","type":"string"}],"name":"getBankId","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionExistance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"index","type":"uint256"}],"name":"getBank","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"isTransactionsAccesibleByHash","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"regulator","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_code","type":"string"},{"name":"_name","type":"string"}],"name":"setBankName","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionCodelineByHash","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_code","type":"string"},{"name":"_authorized","type":"bool"}],"name":"setBankAuthorized","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_depositAccount","type":"string"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionVersion","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_code","type":"string"},{"name":"_contract","type":"address"}],"name":"setBankContract","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"codeHash","type":"bytes32"}],"name":"getNameByHash","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"accountHash","type":"bytes32"},{"name":"_transactionID","type":"uint256"}],"name":"getTransactionContractByHash","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_code","type":"string"}],"name":"getBankExistance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getRegulator","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_code","type":"string"},{"name":"_account","type":"address"}],"name":"setBankAddress","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_name","type":"string"},{"name":"_codePosition","type":"uint256"},{"name":"_codeLength","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":false,"stateMutability":"nonpayable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"number","type":"uint256"},{"indexed":false,"name":"code","type":"string"},{"indexed":false,"name":"name","type":"string"},{"indexed":false,"name":"bankAddress","type":"address"},{"indexed":false,"name":"contractAddress","type":"address"},{"indexed":false,"name":"authorized","type":"bool"},{"indexed":false,"name":"exists","type":"bool"}],"name":"BankChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"id","type":"uint256"},{"indexed":false,"name":"hashBankCode","type":"bytes32"},{"indexed":false,"name":"bankContract","type":"address"},{"indexed":false,"name":"hashCodeline","type":"bytes32"},{"indexed":false,"name":"codeline","type":"string"},{"indexed":false,"name":"version","type":"uint256"},{"indexed":false,"name":"status","type":"uint8"},{"indexed":false,"name":"timestamp","type":"uint256"},{"indexed":false,"name":"ownMovement","type":"bool"},{"indexed":false,"name":"exists","type":"bool"}],"name":"TransactionChanged","type":"event"}]);
var blockcheqContract = web3.eth.contract([{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"checkId","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"position","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"account","type":"address"},{"name":"codeline","type":"string"}],"name":"addCheck","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"codeline","type":"string"},{"name":"amount","type":"uint256"},{"name":"date","type":"uint256"},{"name":"deliveredTo","type":"string"},{"name":"depositAccount","type":"string"},{"name":"securityCode","type":"string"}],"name":"fillAndDeliver","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"codeline","type":"string"}],"name":"getStatus","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"code","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"codeline","type":"string"},{"name":"amount","type":"uint256"},{"name":"date","type":"uint256"},{"name":"deliveredTo","type":"string"},{"name":"depositAccount","type":"string"},{"name":"securityCode","type":"string"}],"name":"fill","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeline","type":"string"},{"name":"amount","type":"uint256"}],"name":"getStatusCheck","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"codeline","type":"string"},{"name":"depositAccount","type":"string"},{"name":"securityCode","type":"string"}],"name":"accept","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"ownerAccount","type":"address"}],"name":"deleteAccount","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"checks","outputs":[{"name":"owner","type":"address"},{"name":"codeline","type":"string"},{"name":"amount","type":"uint256"},{"name":"processDate","type":"uint256"},{"name":"status","type":"uint8"},{"name":"reason","type":"string"},{"name":"depositAccount","type":"string"},{"name":"deliveredTo","type":"string"},{"name":"securityCode","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"}],"name":"checkVersions","outputs":[{"name":"status","type":"uint8"},{"name":"reason","type":"string"},{"name":"depositAccount","type":"string"},{"name":"deliveredTo","type":"string"},{"name":"securityCode","type":"bytes32"},{"name":"timestamp","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"codeline","type":"string"},{"name":"securityCode","type":"string"}],"name":"notAccept","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeline","type":"string"}],"name":"getReason","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"accountId","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"codeline","type":"string"},{"name":"amount","type":"uint256"}],"name":"getReasonCheck","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"codeline","type":"string"},{"name":"deliveredTo","type":"string"},{"name":"depositAccount","type":"string"},{"name":"securityCode","type":"string"},{"name":"securityCodeNew","type":"string"}],"name":"endorse","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"ownerAccount","type":"address"},{"name":"numberAccount","type":"string"},{"name":"balanceAccount","type":"uint256"}],"name":"updateAccount","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"codeline","type":"string"}],"name":"sendToHost","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"codeline","type":"string"},{"name":"status","type":"uint8"},{"name":"reason","type":"string"}],"name":"setStatus","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"ownerAccount","type":"address"}],"name":"restoreAccount","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"ownerAccount","type":"address"},{"name":"numberAccount","type":"string"},{"name":"balanceAccount","type":"uint256"}],"name":"addAccount","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"accounts","outputs":[{"name":"owner","type":"address"},{"name":"number","type":"string"},{"name":"balance","type":"uint256"},{"name":"exists","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"codeline","type":"string"},{"name":"amount","type":"uint256"},{"name":"date","type":"uint256"},{"name":"depositAccount","type":"string"},{"name":"securityCode","type":"string"}],"name":"deposit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"bankCode","type":"string"},{"name":"codePosition","type":"uint8"},{"name":"bankName","type":"string"},{"name":"decimalUnits","type":"uint8"},{"name":"tokenSymbol","type":"string"},{"name":"regulatorContract","type":"address"},{"name":"demostrator","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":false,"stateMutability":"nonpayable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"accountId","type":"uint256"},{"indexed":false,"name":"owner","type":"address"},{"indexed":false,"name":"number","type":"string"},{"indexed":false,"name":"balance","type":"uint256"},{"indexed":false,"name":"exists","type":"bool"}],"name":"AccountChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"owner","type":"address"},{"indexed":false,"name":"codeline","type":"string"},{"indexed":false,"name":"bytesCodeline","type":"bytes32"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"processDate","type":"uint256"},{"indexed":false,"name":"status","type":"uint8"},{"indexed":false,"name":"reason","type":"string"},{"indexed":false,"name":"depositAccount","type":"string"},{"indexed":false,"name":"deliveredTo","type":"string"},{"indexed":false,"name":"securityCode","type":"bytes32"}],"name":"CheckChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"checkId","type":"uint256"},{"indexed":false,"name":"version","type":"uint256"},{"indexed":false,"name":"status","type":"uint8"},{"indexed":false,"name":"reason","type":"string"},{"indexed":false,"name":"depositAccount","type":"string"},{"indexed":false,"name":"deliveredTo","type":"string"},{"indexed":false,"name":"securityCode","type":"bytes32"},{"indexed":false,"name":"timestamp","type":"uint256"}],"name":"VersionChanged","type":"event"}]);

var bank1Code = "353";
var bank2Code = "535";

var bank1Name = "BlockcheqBank-1";
var bank2Name = "BlockcheqBank-2";
var deployGas = 6712390;
var transGas = 600000;


var deployBlockCheq = function(code, name, regulatorContract, demo, owner, callBack) {
	blockcheqContract.new(code, 0, name, 2, "€", regulatorContract, demo, {
		from: owner,
		data: '0x606060405234156200001057600080fd5b604051620060fb380380620060fb8339810160405280805182019190602001805191906020018051820191906020018051919060200180518201919060200180519190602001805160008054600160a060020a03191633600160a060020a03161781559092509050808060018a80516200008f9291602001906200042a565b5060018054620000b491600691600260001961010083851615020190911604620004af565b506002805460ff191660ff8b161790556003888051620000d99291602001906200042a565b506004868051620000ef9291602001906200042a565b506005805460ff1990811660ff8a1617909155600780549091168515151761010060a860020a031916610100600160a060020a03881602179055600080805260096020527fec8156718a8372b1db44bb411437d0870f3e3790d4a08526d024ce1b0b668f6b556080604051908101604052806000600160a060020a03168152602001602060405190810160405280600081525081526020016000815260200160011515815250600c808054809190600101620001ac919062000529565b81548110620001b757fe5b906000526020600020906004020160008201518154600160a060020a031916600160a060020a0391909116178155602082015181600101908051620002019291602001906200042a565b50604082015181600201556060820151600391909101805460ff191691151591909117905550600080805260086020527f5eff886ea0ce6ca488a3d6e336d6c0f75f46d19b42c06ce5ee98e42c96d256c755604051604051908190039020600d80546000838152600a602052604090208190559194506200028690600183016200055d565b915060009050610120604051908101604052806000600160a060020a0316815260200160206040519081016040528060008152508152602001600081526020016000815260200182600a811115620002da57fe5b8152602001602060405190810160405280600081525081526020016020604051908101604052806000815250815260200160206040519081016040526000808252908252602090910152600d8054849081106200033357fe5b906000526020600020906009020160008201518154600160a060020a031916600160a060020a03919091161781556020820151816001019080516200037d9291602001906200042a565b506040820151816002015560608201518160030155608082015160048201805460ff1916600183600a811115620003b057fe5b021790555060a082015181600501908051620003d19291602001906200042a565b5060c082015181600601908051620003ee9291602001906200042a565b5060e0820151816007019080516200040b9291602001906200042a565b5061010082015160089091015550620006cf9950505050505050505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200046d57805160ff19168380011785556200049d565b828001600101855582156200049d579182015b828111156200049d57825182559160200191906001019062000480565b50620004ab9291506200058c565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620004ea57805485556200049d565b828001600101855582156200049d57600052602060002091601f016020900482015b828111156200049d5782548255916001019190600101906200050c565b8154818355818115116200055857600402816004028360005260206000209182019101620005589190620005ac565b505050565b8154818355818115116200055857600902816009028360005260206000209182019101620005589190620005f8565b620005a991905b80821115620004ab576000815560010162000593565b90565b620005a991905b80821115620004ab578054600160a060020a03191681556000620005db600183018262000684565b506000600282015560038101805460ff19169055600401620005b3565b620005a991905b80821115620004ab578054600160a060020a0319168155600062000627600183018262000684565b6000600283018190556003830181905560048301805460ff191690556200065390600584019062000684565b6200066360068301600062000684565b6200067360078301600062000684565b5060006008820155600901620005ff565b50805460018160011615610100020316600290046000825580601f10620006ac5750620006cc565b601f016020900490600052602060002090810190620006cc91906200058c565b50565b615a1c80620006df6000396000f3006060604052600436106101715763ffffffff60e060020a60003504166301fc59e1811461018357806306fdde03146101ab57806309218e9114610235578063111e54511461025e57806313fe6021146102bd57806322b05ed2146103dd57806324c12bf6146104525780632ec0cda4146104655780632f54bf6e14610585578063313ce567146105b857806338dcbb88146105cb5780633da5517b1461061e5780634c1b64cb146106f3578063618e7bd91461071257806361c02cab14610968578063678cabae14610b2957806370a0823114610bbc5780638baa14f414610bdb5780638da5cb5b14610c2c57806395d89b4114610c5b5780639bf8e5f314610c6e5780639dacacb414610c8d578063b4cde13914610ce0578063bfe388f614610e39578063e089d36e14610e9a578063e1e5d6f114610eeb578063eed608e614610f8a578063f235bfa414610fa9578063f2a40db81461100a578063f2fde38b146110c9578063fc1a6ab2146110e8575b341561017c57600080fd5b600080fd5b005b341561018e57600080fd5b6101996004356111c6565b60405190815260200160405180910390f35b34156101b657600080fd5b6101be6111d8565b60405160208082528190810183818151815260200191508051906020019080838360005b838110156101fa5780820151838201526020016101e2565b50505050905090810190601f1680156102275780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561024057600080fd5b610248611276565b60405160ff909116815260200160405180910390f35b341561026957600080fd5b61018160048035600160a060020a03169060446024803590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061127f95505050505050565b34156102c857600080fd5b61018160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094968635966020808201359750919550606081019450604090810135860180830194503592508291601f83018190048102019051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f016020809104026020016040519081016040528181529291906020840183838082843750949650611ab495505050505050565b34156103e857600080fd5b61042e60046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650611bab95505050505050565b6040518082600a81111561043e57fe5b60ff16815260200191505060405180910390f35b341561045d57600080fd5b6101be611c58565b341561047057600080fd5b61018160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094968635966020808201359750919550606081019450604090810135860180830194503592508291601f83018190048102019051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f016020809104026020016040519081016040528181529291906020840183838082843750949650611cc395505050505050565b341561059057600080fd5b6105a4600160a060020a0360043516611da6565b604051901515815260200160405180910390f35b34156105c357600080fd5b610248611dbd565b34156105d657600080fd5b61042e60046024813581810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496505093359350611dc692505050565b341561062957600080fd5b61018160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f016020809104026020016040519081016040528181529291906020840183838082843750949650611e3b95505050505050565b34156106fe57600080fd5b610181600160a060020a0360043516611fa8565b341561071d57600080fd5b610728600435612392565b604051808a600160a060020a0316600160a060020a031681526020018060200189815260200188815260200187600a81111561076057fe5b60ff1681526080810184905260a0838203810183528b546002600019600183161561010002019091160490820181905260208201916040810191606082019160c001908e9080156107f25780601f106107c7576101008083540402835291602001916107f2565b820191906000526020600020905b8154815290600101906020018083116107d557829003601f168201915b505085810384528954600260001961010060018416150201909116048082526020909101908a9080156108665780601f1061083b57610100808354040283529160200191610866565b820191906000526020600020905b81548152906001019060200180831161084957829003601f168201915b50508581038352885460026000196101006001841615020190911604808252602090910190899080156108da5780601f106108af576101008083540402835291602001916108da565b820191906000526020600020905b8154815290600101906020018083116108bd57829003601f168201915b505085810382528754600260001961010060018416150201909116048082526020909101908890801561094e5780601f106109235761010080835404028352916020019161094e565b820191906000526020600020905b81548152906001019060200180831161093157829003601f168201915b50509d505050505050505050505050505060405180910390f35b341561097357600080fd5b6109816004356024356123f5565b6040518087600a81111561099157fe5b60ff1681526080810184905260a0810183905260c0828203810160208301908152885460026000196001831615610100020190911604918301829052916040810191606082019160e001908a908015610a2b5780601f10610a0057610100808354040283529160200191610a2b565b820191906000526020600020905b815481529060010190602001808311610a0e57829003601f168201915b5050848103835288546002600019610100600184161502019091160480825260209091019089908015610a9f5780601f10610a7457610100808354040283529160200191610a9f565b820191906000526020600020905b815481529060010190602001808311610a8257829003601f168201915b5050848103825287546002600019610100600184161502019091160480825260209091019088908015610b135780601f10610ae857610100808354040283529160200191610b13565b820191906000526020600020905b815481529060010190602001808311610af657829003601f168201915b5050995050505050505050505060405180910390f35b3415610b3457600080fd5b61018160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284375094965061244595505050505050565b3415610bc757600080fd5b610199600160a060020a0360043516612617565b3415610be657600080fd5b6101be60046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061262995505050505050565b3415610c3757600080fd5b610c3f6127a0565b604051600160a060020a03909116815260200160405180910390f35b3415610c6657600080fd5b6101be6127af565b3415610c7957600080fd5b610199600160a060020a036004351661281a565b3415610c9857600080fd5b6101be60046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650509335935061282c92505050565b3415610ceb57600080fd5b61018160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284375094965061289e95505050505050565b3415610e4457600080fd5b61018160048035600160a060020a03169060446024803590810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496505093359350612a4a92505050565b3415610ea557600080fd5b61018160046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650612ebd95505050505050565b3415610ef657600080fd5b61018160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803560ff1690602001909190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284375094965061313295505050505050565b3415610f9557600080fd5b610181600160a060020a036004351661339c565b3415610fb457600080fd5b61018160048035600160a060020a03169060446024803590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965050933593506135f892505050565b341561101557600080fd5b611020600435613ae4565b604051600160a060020a03851681526040810183905281151560608201526080602082018181528554600260001961010060018416150201909116049183018290529060a0830190869080156110b75780601f1061108c576101008083540402835291602001916110b7565b820191906000526020600020905b81548152906001019060200180831161109a57829003601f168201915b50509550505050505060405180910390f35b34156110d457600080fd5b610181600160a060020a0360043516613b28565b34156110f357600080fd5b61018160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094968635966020808201359750919550606081019450604090810135860180830194503592508291601f83018190048102019051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f016020809104026020016040519081016040528181529291906020840183838082843750949650613b6b95505050505050565b600a6020526000908152604090205481565b60038054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561126e5780601f106112435761010080835404028352916020019161126e565b820191906000526020600020905b81548152906001019060200180831161125157829003601f168201915b505050505081565b60025460ff1681565b600080600061128d33611da6565b151561129857600080fd5b6007546101009004600160a060020a031663a0e1d694600160006040516020015260405160e060020a63ffffffff84160281526020600482019081528254600260001961010060018416150201909116046024830181905290918291604490910190849080156113495780601f1061131e57610100808354040283529160200191611349565b820191906000526020600020905b81548152906001019060200180831161132c57829003601f168201915b505092505050602060405180830381600087803b151561136857600080fd5b6102c65a03f1151561137957600080fd5b5050506040518051905080156114845750600754600160a060020a03308116916101009004166335817773600160006040516020015260405160e060020a63ffffffff841602815260206004820190815282546002600019610100600184161502019091160460248301819052909182916044909101908490801561143f5780601f106114145761010080835404028352916020019161143f565b820191906000526020600020905b81548152906001019060200180831161142257829003601f168201915b505092505050602060405180830381600087803b151561145e57600080fd5b6102c65a03f1151561146f57600080fd5b50505060405180519050600160a060020a0316145b151561148f57600080fd5b600160a060020a0385166000908152600960205260408120541180156114f05750600160a060020a038516600090815260096020526040902054600c805490919081106114d857fe5b600091825260209091206003600490920201015460ff165b15156114fb57600080fd5b836040518082805190602001908083835b6020831061152b5780518252601f19909201916020918201910161150c565b6001836020036101000a03801982511681845116179092525050509190910192506040915050519081900390206000818152600a60205260409020549093501561157457600080fd5b600d80546000858152600a602052604090208190559061159790600183016156cc565b9150600090506101206040519081016040528086600160a060020a03168152602001858152602001600081526020016000815260200182600a8111156115d957fe5b81526020016040805190810160405280600c81526020017f49737375656420636865636b000000000000000000000000000000000000000081525081526020016020604051908101604052806000815250815260200160206040519081016040526000808252908252602090910152600d80548490811061165657fe5b90600052602060002090600902016000820151815473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03919091161781556020820151816001019080516116ab9291602001906156f8565b506040820151816002015560608201518160030155608082015160048201805460ff1916600183600a8111156116dd57fe5b021790555060a0820151816005019080516116fc9291602001906156f8565b5060c0820151816006019080516117179291602001906156f8565b5060e0820151816007019080516117329291602001906156f8565b5061010082015160089091015550600d80547f4ff61b0ba1398d6fcec2382497f16051aad31ee5aa59d5bea3827c5b44ddacb991908490811061177157fe5b6000918252602090912060099091020154600d8054600160a060020a039092169187918791879081106117a057fe5b906000526020600020906009020160020154600d878154811015156117c157fe5b906000526020600020906009020160030154600d888154811015156117e257fe5b6000918252602090912060046009909202010154600d805460ff909216918a90811061180a57fe5b9060005260206000209060090201600501600d8a81548110151561182a57fe5b9060005260206000209060090201600601600d8b81548110151561184a57fe5b9060005260206000209060090201600701600d8c81548110151561186a57fe5b906000526020600020906009020160080154604051600160a060020a038b1681526040810189905260608101889052608081018790526020810160a0820187600a8111156118b457fe5b60ff168152602001806020018060200180602001866000191660001916815260200185810385528e818151815260200191508051906020019080838360005b8381101561190b5780820151838201526020016118f3565b50505050905090810190601f1680156119385780820380516001836020036101000a031916815260200191505b5085810384528954600260001961010060018416150201909116048082526020909101908a9080156119ab5780601f10611980576101008083540402835291602001916119ab565b820191906000526020600020905b81548152906001019060200180831161198e57829003601f168201915b5050858103835288546002600019610100600184161502019091160480825260209091019089908015611a1f5780601f106119f457610100808354040283529160200191611a1f565b820191906000526020600020905b815481529060010190602001808311611a0257829003601f168201915b5050858103825287546002600019610100600184161502019091160480825260209091019088908015611a935780601f10611a6857610100808354040283529160200191611a93565b820191906000526020600020905b815481529060010190602001808311611a7657829003601f168201915b50509e50505050505050505050505050505060405180910390a15050505050565b600080611ac2886000613ec9565b91509150611acf81613f82565b86600d82815481101515611adf57fe5b90600052602060002090600902016002018190555085600d82815481101515611b0457fe5b90600052602060002090600902016003018190555084600d82815481101515611b2957fe5b9060005260206000209060090201600701908051611b4b9291602001906156f8565b50611b56818461406f565b611b9781600260408051908101604052600f81527f44656c69766572656420636865636b000000000000000000000000000000000060208201528b8661412b565b611ba181856144ba565b5050505050505050565b6000806000836040518082805190602001908083835b60208310611be05780518252601f199092019160209182019101611bc1565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209150611c1782614509565b9050801515611c295760089250611c51565b600d805482908110611c3757fe5b600091825260209091206004600990920201015460ff1692505b5050919050565b60018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561126e5780601f106112435761010080835404028352916020019161126e565b600080611cd1886000613ec9565b91509150611cde81613f82565b86600d82815481101515611cee57fe5b90600052602060002090600902016002018190555085600d82815481101515611d1357fe5b90600052602060002090600902016003018190555084600d82815481101515611d3857fe5b9060005260206000209060090201600701908051611d5a9291602001906156f8565b50611d65818461406f565b611b9781600160408051908101604052600c81527f46696c6c656420636865636b000000000000000000000000000000000000000060208201528b8661412b565b600054600160a060020a038281169116145b919050565b60055460ff1681565b600080836040518082805190602001908083835b60208310611df95780518252601f199092019160209182019101611dda565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050611e318184614539565b91505b5092915050565b600080611e49856002613ec9565b91509150611e5781846145e5565b15611f4d57611f4881600d83815481101515611e6f57fe5b6000918252602090912060046009909202010154600d805460ff9092169185908110611e9757fe5b90600052602060002090600902016005018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611f3c5780601f10611f1157610100808354040283529160200191611f3c565b820191906000526020600020905b815481529060010190602001808311611f1f57829003601f168201915b5050505050888661412b565b611fa1565b611f5681613f82565b611f9781600360408051908101604052600e81527f416363657074656420636865636b0000000000000000000000000000000000006020820152888661412b565b611fa181856144ba565b5050505050565b6000611fb333611da6565b1515611fbe57600080fd5b6007546101009004600160a060020a031663a0e1d694600160006040516020015260405160e060020a63ffffffff841602815260206004820190815282546002600019610100600184161502019091160460248301819052909182916044909101908490801561206f5780601f106120445761010080835404028352916020019161206f565b820191906000526020600020905b81548152906001019060200180831161205257829003601f168201915b505092505050602060405180830381600087803b151561208e57600080fd5b6102c65a03f1151561209f57600080fd5b5050506040518051905080156121aa5750600754600160a060020a03308116916101009004166335817773600160006040516020015260405160e060020a63ffffffff84160281526020600482019081528254600260001961010060018416150201909116046024830181905290918291604490910190849080156121655780601f1061213a57610100808354040283529160200191612165565b820191906000526020600020905b81548152906001019060200180831161214857829003601f168201915b505092505050602060405180830381600087803b151561218457600080fd5b6102c65a03f1151561219557600080fd5b50505060405180519050600160a060020a0316145b15156121b557600080fd5b600160a060020a038216600090815260096020526040812054116121d857600080fd5b50600160a060020a038116600090815260096020526040812054600c80549192918390811061220357fe5b906000526020600020906004020160030160006101000a81548160ff0219169083151502179055507f4dcaa4559c4b27f5958620b52cdc8d574d3f5b1749809568f14bafbe6c2118e081600c8381548110151561225c57fe5b6000918252602090912060049091020154600c8054600160a060020a03909216918590811061228757fe5b9060005260206000209060040201600101600c858154811015156122a757fe5b906000526020600020906004020160020154600c868154811015156122c857fe5b600091825260209091206003600490920201015460ff16604051858152600160a060020a038516602082015260608101839052811515608082015260a0604082018181528554600260001961010060018416150201909116049183018290529060c08301908690801561237c5780601f106123515761010080835404028352916020019161237c565b820191906000526020600020905b81548152906001019060200180831161235f57829003601f168201915b5050965050505050505060405180910390a15050565b600d8054829081106123a057fe5b6000918252602090912060099091020180546002820154600383015460048401546008850154600160a060020a03909416955060018501949293919260ff909116916005820191600681019160079091019089565b600b6020528160005260406000208181548110151561241057fe5b6000918252602090912060069091020180546004820154600583015460ff909216945060018301935060028301926003019186565b600080600080612456866002613ec9565b9350935061246483866145e5565b1561255a5761255583600d8581548110151561247c57fe5b6000918252602090912060046009909202010154600d805460ff90921691879081106124a457fe5b90600052602060002090600902016005018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156125495780601f1061251e57610100808354040283529160200191612549565b820191906000526020600020905b81548152906001019060200180831161252c57829003601f168201915b5050505050898861412b565b61260f565b6000838152600b6020526040902054915060028211156125c5575060001981016125b983600760408051908101604052601281527f4e6f7420416363657074656420636865636b00000000000000000000000000006020820152614700565b61255583828887614c8a565b6125ce83613f82565b61260f83600760408051908101604052601281527f4e6f7420416363657074656420636865636b00000000000000000000000000006020820152898861412b565b505050505050565b60086020526000908152604090205481565b612631615776565b600080836040518082805190602001908083835b602083106126645780518252601f199092019160209182019101612645565b6001836020036101000a03801982511681845116179092525050509190910192506040915050518091039020915061269b82614509565b90508015156126df5760408051908101604052600f81527f436865636b206e6f7420666f756e64000000000000000000000000000000000060208201529250611c51565b600d8054829081106126ed57fe5b90600052602060002090600902016005018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156127925780601f1061276757610100808354040283529160200191612792565b820191906000526020600020905b81548152906001019060200180831161277557829003601f168201915b505050505092505050919050565b600054600160a060020a031681565b60048054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561126e5780601f106112435761010080835404028352916020019161126e565b60096020526000908152604090205481565b612834615776565b6000836040518082805190602001908083835b602083106128665780518252601f199092019160209182019101612847565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050611e318184614f50565b6000806128ac876003613ec9565b915091506128ba81856145e5565b156129b0576129ab81600d838154811015156128d257fe5b6000918252602090912060046009909202010154600d805460ff90921691859081106128fa57fe5b90600052602060002090600902016005018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561299f5780601f106129745761010080835404028352916020019161299f565b820191906000526020600020905b81548152906001019060200180831161298257829003601f168201915b50505050508a8661412b565b612a41565b6129b981613f82565b85600d828154811015156129c957fe5b90600052602060002090600902016007019080516129eb9291602001906156f8565b506129f6818461406f565b612a0081866144ba565b612a4181600260408051908101604052600f81527f44656c69766572656420636865636b000000000000000000000000000000000060208201528a8661412b565b50505050505050565b6000612a5533611da6565b1515612a6057600080fd5b6007546101009004600160a060020a031663a0e1d694600160006040516020015260405160e060020a63ffffffff8416028152602060048201908152825460026000196101006001841615020190911604602483018190529091829160449091019084908015612b115780601f10612ae657610100808354040283529160200191612b11565b820191906000526020600020905b815481529060010190602001808311612af457829003601f168201915b505092505050602060405180830381600087803b1515612b3057600080fd5b6102c65a03f11515612b4157600080fd5b505050604051805190508015612c4c5750600754600160a060020a03308116916101009004166335817773600160006040516020015260405160e060020a63ffffffff8416028152602060048201908152825460026000196101006001841615020190911604602483018190529091829160449091019084908015612c075780601f10612bdc57610100808354040283529160200191612c07565b820191906000526020600020905b815481529060010190602001808311612bea57829003601f168201915b505092505050602060405180830381600087803b1515612c2657600080fd5b6102c65a03f11515612c3757600080fd5b50505060405180519050600160a060020a0316145b1515612c5757600080fd5b600160a060020a038416600090815260096020526040812054118015612cb85750600160a060020a038416600090815260096020526040902054600c80549091908110612ca057fe5b600091825260209091206003600490920201015460ff165b1515612cc357600080fd5b50600160a060020a038316600090815260096020526040902054600c805484919083908110612cee57fe5b9060005260206000209060040201600101908051612d109291602001906156f8565b5081600c82815481101515612d2157fe5b6000918252602080832060026004909302019190910192909255600160a060020a0386168152600890915260409020829055600c80547f4dcaa4559c4b27f5958620b52cdc8d574d3f5b1749809568f14bafbe6c2118e091839182908110612d8557fe5b6000918252602090912060049091020154600c8054600160a060020a039092169185908110612db057fe5b9060005260206000209060040201600101600c85815481101515612dd057fe5b906000526020600020906004020160020154600c86815481101515612df157fe5b600091825260209091206003600490920201015460ff16604051858152600160a060020a038516602082015260608101839052811515608082015260a0604082018181528554600260001961010060018416150201909116049183018290529060c083019086908015612ea55780601f10612e7a57610100808354040283529160200191612ea5565b820191906000526020600020905b815481529060010190602001808311612e8857829003601f168201915b5050965050505050505060405180910390a150505050565b600080612ec933611da6565b1515612ed457600080fd5b6007546101009004600160a060020a031663a0e1d694600160006040516020015260405160e060020a63ffffffff8416028152602060048201908152825460026000196101006001841615020190911604602483018190529091829160449091019084908015612f855780601f10612f5a57610100808354040283529160200191612f85565b820191906000526020600020905b815481529060010190602001808311612f6857829003601f168201915b505092505050602060405180830381600087803b1515612fa457600080fd5b6102c65a03f11515612fb557600080fd5b5050506040518051905080156130c05750600754600160a060020a03308116916101009004166335817773600160006040516020015260405160e060020a63ffffffff841602815260206004820190815282546002600019610100600184161502019091160460248301819052909182916044909101908490801561307b5780601f106130505761010080835404028352916020019161307b565b820191906000526020600020905b81548152906001019060200180831161305e57829003601f168201915b505092505050602060405180830381600087803b151561309a57600080fd5b6102c65a03f115156130ab57600080fd5b50505060405180519050600160a060020a0316145b15156130cb57600080fd5b6130d6836004613ec9565b915091506130e381613f82565b61312481600560408051908101604052600d81527f436865636b20696e20686f7374000000000000000000000000000000000000006020820152868661412b565b61312d816151aa565b505050565b60008061313e33611da6565b151561314957600080fd5b846040518082805190602001908083835b602083106131795780518252601f19909201916020918201910161315a565b6001836020036101000a03801982511681845116179092525050509190910192506040915050519081900390206000818152600a602052604081205491935090116131c357600080fd5b6131cc82614509565b90506131d881856153c6565b15156131e357600080fd5b6131ec81613f82565b600084600a8111156131fa57fe5b14156132cd576000600d8281548110151561321157fe5b9060005260206000209060090201600201819055506000600d8281548110151561323757fe5b906000526020600020906009020160030181905550602060405190810160405260008152600d80548390811061326957fe5b906000526020600020906009020160060190805161328b9291602001906156f8565b50602060405190810160405260008152600d8054839081106132a957fe5b90600052602060002090600902016007019080516132cb9291602001906156f8565b505b6132da818585888661412b565b611fa181600d838154811015156132ed57fe5b90600052602060002090600902016006018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156133925780601f1061336757610100808354040283529160200191613392565b820191906000526020600020905b81548152906001019060200180831161337557829003601f168201915b50505050506144ba565b60006133a733611da6565b15156133b257600080fd5b6007546101009004600160a060020a031663a0e1d694600160006040516020015260405160e060020a63ffffffff84160281526020600482019081528254600260001961010060018416150201909116046024830181905290918291604490910190849080156134635780601f1061343857610100808354040283529160200191613463565b820191906000526020600020905b81548152906001019060200180831161344657829003601f168201915b505092505050602060405180830381600087803b151561348257600080fd5b6102c65a03f1151561349357600080fd5b50505060405180519050801561359e5750600754600160a060020a03308116916101009004166335817773600160006040516020015260405160e060020a63ffffffff84160281526020600482019081528254600260001961010060018416150201909116046024830181905290918291604490910190849080156135595780601f1061352e57610100808354040283529160200191613559565b820191906000526020600020905b81548152906001019060200180831161353c57829003601f168201915b505092505050602060405180830381600087803b151561357857600080fd5b6102c65a03f1151561358957600080fd5b50505060405180519050600160a060020a0316145b15156135a957600080fd5b600160a060020a038216600090815260096020526040812054116135cc57600080fd5b50600160a060020a038116600090815260096020526040902054600c8054600191908390811061220357fe5b600061360333611da6565b151561360e57600080fd5b6007546101009004600160a060020a031663a0e1d694600160006040516020015260405160e060020a63ffffffff84160281526020600482019081528254600260001961010060018416150201909116046024830181905290918291604490910190849080156136bf5780601f10613694576101008083540402835291602001916136bf565b820191906000526020600020905b8154815290600101906020018083116136a257829003601f168201915b505092505050602060405180830381600087803b15156136de57600080fd5b6102c65a03f115156136ef57600080fd5b5050506040518051905080156137fa5750600754600160a060020a03308116916101009004166335817773600160006040516020015260405160e060020a63ffffffff84160281526020600482019081528254600260001961010060018416150201909116046024830181905290918291604490910190849080156137b55780601f1061378a576101008083540402835291602001916137b5565b820191906000526020600020905b81548152906001019060200180831161379857829003601f168201915b505092505050602060405180830381600087803b15156137d457600080fd5b6102c65a03f115156137e557600080fd5b50505060405180519050600160a060020a0316145b151561380557600080fd5b50600160a060020a038316600090815260096020526040902054801515613a6657600c8054600160a060020a0386166000908152600960205260409020819055906138539060018301615788565b905060806040519081016040908152600160a060020a038616825260208201859052810183905260016060820152600c80548390811061388f57fe5b90600052602060002090600402016000820151815473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03919091161781556020820151816001019080516138e49291602001906156f8565b50604082015181600201556060820151600391909101805460ff191691151591909117905550600160a060020a0384166000908152600860205260409020829055600c80547f4dcaa4559c4b27f5958620b52cdc8d574d3f5b1749809568f14bafbe6c2118e09183918791908390811061395a57fe5b9060005260206000209060040201600101600c8581548110151561397a57fe5b906000526020600020906004020160020154600c8681548110151561399b57fe5b600091825260209091206003600490920201015460ff16604051858152600160a060020a038516602082015260608101839052811515608082015260a0604082018181528554600260001961010060018416150201909116049183018290529060c083019086908015613a4f5780601f10613a2457610100808354040283529160200191613a4f565b820191906000526020600020905b815481529060010190602001808311613a3257829003601f168201915b5050965050505050505060405180910390a1613ade565b600c805482908110613a7457fe5b600091825260209091206003600490920201015460ff1615613a9557600080fd5b6001600c82815481101515613aa657fe5b906000526020600020906004020160030160006101000a81548160ff02191690831515021790555082600c82815481101515612cee57fe5b50505050565b600c805482908110613af257fe5b60009182526020909120600490910201805460028201546003830154600160a060020a0390921693506001909201919060ff1684565b613b3133611da6565b1515613b3c57600080fd5b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6000806000613b798561548b565b15613b8357600080fd5b876040518082805190602001908083835b60208310613bb35780518252601f199092019160209182019101613b94565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209250613bea83614509565b9150811515613df2577f4ff61b0ba1398d6fcec2382497f16051aad31ee5aa59d5bea3827c5b44ddacb960008960008a8a60086040805190810160405280600f81526020017f436865636b206e6f7420666f756e6400000000000000000000000000000000008152508c604051600160a060020a03891681526040810187905260608101869052608081018590526020810160a0820185600a811115613c8c57fe5b60ff16815260200180602001806020018060200160200185810385528c818151815260200191508051906020019080838360005b83811015613cd8578082015183820152602001613cc0565b50505050905090810190601f168015613d055780820380516001836020036101000a031916815260200191505b50858103845287818151815260200191508051906020019080838360005b83811015613d3b578082015183820152602001613d23565b50505050905090810190601f168015613d685780820380516001836020036101000a031916815260200191505b50858103835286818151815260200191508051906020019080838360005b83811015613d9e578082015183820152602001613d86565b50505050905090810190601f168015613dcb5780820380516001836020036101000a031916815260200191505b509485039052505060008252506040908101985096505050505050505180910390a1611ba1565b613dfe828888876154a1565b9050613e0982613f82565b801515613e3457613e2f82613e1e858a614539565b613e28868b614f50565b8b8761412b565b611ba1565b86600d83815481101515613e4457fe5b90600052602060002090600902016002018190555085600d83815481101515613e6957fe5b906000526020600020906009020160030181905550613ebf82600460408051908101604052600f81527f4465706f736974656420636865636b000000000000000000000000000000000060208201528b8761412b565b611ba182866144ba565b600080836040518082805190602001908083835b60208310613efc5780518252601f199092019160209182019101613edd565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209150613f3382614509565b905082600a811115613f4157fe5b600d805483908110613f4f57fe5b600091825260209091206004600990920201015460ff16600a811115613f7157fe5b14613f7b57600080fd5b9250929050565b61406c81600d83815481101515613f9557fe5b6000918252602090912060046009909202010154600d805460ff9092169185908110613fbd57fe5b90600052602060002090600902016005018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156140625780601f1061403757610100808354040283529160200191614062565b820191906000526020600020905b81548152906001019060200180831161404557829003601f168201915b5050505050614700565b50565b6000815115156140a457600d8054600091908590811061408b57fe5b600091825260209091206008600990920201015561312d565b816040518082805190602001908083835b602083106140d45780518252601f1990920191602091820191016140b5565b6001836020036101000a03801982511681845116179092525050509190910192506040915050518091039020905080600d8481548110151561411257fe5b6000918252602090912060086009909202010155505050565b6007546101009004600160a060020a031663a0e1d694600160006040516020015260405160e060020a63ffffffff84160281526020600482019081528254600260001961010060018416150201909116046024830181905290918291604490910190849080156141dc5780601f106141b1576101008083540402835291602001916141dc565b820191906000526020600020905b8154815290600101906020018083116141bf57829003601f168201915b505092505050602060405180830381600087803b15156141fb57600080fd5b6102c65a03f1151561420c57600080fd5b5050506040518051905080156143175750600754600160a060020a03308116916101009004166335817773600160006040516020015260405160e060020a63ffffffff84160281526020600482019081528254600260001961010060018416150201909116046024830181905290918291604490910190849080156142d25780601f106142a7576101008083540402835291602001916142d2565b820191906000526020600020905b8154815290600101906020018083116142b557829003601f168201915b505092505050602060405180830381600087803b15156142f157600080fd5b6102c65a03f1151561430257600080fd5b50505060405180519050600160a060020a0316145b151561432257600080fd5b83600d8681548110151561433257fe5b60009182526020909120600460099092020101805460ff1916600183600a81111561435957fe5b021790555082600d8681548110151561436e57fe5b90600052602060002090600902016005019080516143909291602001906156f8565b507f4ff61b0ba1398d6fcec2382497f16051aad31ee5aa59d5bea3827c5b44ddacb9600d868154811015156143c157fe5b6000918252602090912060099091020154600d8054600160a060020a0390921691859185918a9081106143f057fe5b906000526020600020906009020160020154600d8a81548110151561441157fe5b906000526020600020906009020160030154600d8b81548110151561443257fe5b6000918252602090912060046009909202010154600d805460ff909216918d90811061445a57fe5b9060005260206000209060090201600501600d8d81548110151561447a57fe5b9060005260206000209060090201600601600d8e81548110151561449a57fe5b9060005260206000209060090201600701600d8f81548110151561186a57fe5b80600d838154811015156144ca57fe5b90600052602060002090600902016006019080516144ec9291602001906156f8565b506144f68161548b565b151561450557614505826151aa565b5050565b6000818152600a6020526040812054151561452657506000611db8565b506000908152600a602052604090205490565b60008061454584614509565b90508015156145575760089150611e34565b600d80548290811061456557fe5b6000918252602090912060046009909202010154600d805460ff90921693506145ae918390811061459257fe5b600091825260209091206004600990920201015460ff166155dc565b156145b857600891505b6145c28184615608565b156145cc57600891505b6145d68184615651565b15611e34575060089392505050565b6000805433600160a060020a0390811691161415614697576146068261548b565b8061468f5750816040518082805190602001908083835b6020831061463c5780518252601f19909201916020918201910161461d565b6001836020036101000a0380198251168184511617909252505050919091019250604091505051908190039020600d80548590811061467757fe5b90600052602060002090600902016008015460001916145b1590506146fa565b600d805460009190859081106146a957fe5b90600052602060002090600902016008015460001916141580156146f75750816040518082805190602001908083836020831061463c5780518252601f19909201916020918201910161461d565b90505b92915050565b6000838152600b6020526040812080546001810161471e83826157b4565b9160005260206000209060060201600060c06040519081016040528087600a81111561474657fe5b8152602001868152602001600d8981548110151561476057fe5b90600052602060002090600902016006018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156148055780601f106147da57610100808354040283529160200191614805565b820191906000526020600020905b8154815290600101906020018083116147e857829003601f168201915b50505050508152602001600d8981548110151561481e57fe5b90600052602060002090600902016007018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156148c35780601f10614898576101008083540402835291602001916148c3565b820191906000526020600020905b8154815290600101906020018083116148a657829003601f168201915b50505050508152602001600d898154811015156148dc57fe5b60009182526020918290206008600990920201015482524291015291905081518154829060ff1916600183600a81111561491257fe5b02179055506020820151816001019080516149319291602001906156f8565b5060408201518160020190805161494c9291602001906156f8565b506060820151816003019080516149679291602001906156f8565b506080820151600482015560a08201516005909101555050506000838152600b6020526040902080546000198101917fcb7d7b2bea63a641eb581bb2d84b51e420e945c99dfb7cb3d04174d342e62fe99186918491829081106149c657fe5b60009182526020808320600690920290910154898352600b9091526040909120805460ff90921691869081106149f857fe5b9060005260206000209060060201600101600b60008a815260200190815260200160002086815481101515614a2957fe5b9060005260206000209060060201600201600b60008b815260200190815260200160002087815481101515614a5a57fe5b9060005260206000209060060201600301600b60008c815260200190815260200160002088815481101515614a8b57fe5b906000526020600020906006020160040154600b60008d815260200190815260200160002089815481101515614abd57fe5b9060005260206000209060060201600501546040518089815260200188815260200187600a811115614aeb57fe5b60ff1681526080810184905260a0810183905260c0828203810160208301908152885460026000196001831615610100020190911604918301829052916040810191606082019160e001908a908015614b855780601f10614b5a57610100808354040283529160200191614b85565b820191906000526020600020905b815481529060010190602001808311614b6857829003601f168201915b5050848103835288546002600019610100600184161502019091160480825260209091019089908015614bf95780601f10614bce57610100808354040283529160200191614bf9565b820191906000526020600020905b815481529060010190602001808311614bdc57829003601f168201915b5050848103825287546002600019610100600184161502019091160480825260209091019088908015614c6d5780601f10614c4257610100808354040283529160200191614c6d565b820191906000526020600020905b815481529060010190602001808311614c5057829003601f168201915b50509b50505050505050505050505060405180910390a150505050565b6000848152600b60205260409020805484908110614ca457fe5b9060005260206000209060060201600301600d85815481101515614cc457fe5b90600052602060002090600902016007019080546001816001161561010002031660029004614cf49291906157e0565b506000848152600b60205260409020805484908110614d0f57fe5b906000526020600020906006020160040154600d85815481101515614d3057fe5b6000918252602080832060086009909302019190910192909255858152600b90915260409020805484908110614d6257fe5b6000918252602090912060069091020154600d805460ff9092169186908110614d8757fe5b60009182526020909120600460099092020101805460ff1916600183600a811115614dae57fe5b02179055506000848152600b602052604090208054614e4d91869186908110614dd357fe5b90600052602060002090600602016002018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156133925780601f1061336757610100808354040283529160200191613392565b6000848152600b602052604090208054613ade91869186908110614e6d57fe5b60009182526020808320600690920290910154888352600b9091526040909120805460ff9092169187908110614e9f57fe5b90600052602060002090600602016001018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015614f445780601f10614f1957610100808354040283529160200191614f44565b820191906000526020600020905b815481529060010190602001808311614f2757829003601f168201915b5050505050858561412b565b614f58615776565b6000614f6384614509565b9050801515614fa75760408051908101604052600f81527f436865636b206e6f7420666f756e64000000000000000000000000000000000060208201529150611e34565b600d805482908110614fb557fe5b90600052602060002090600902016005018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561505a5780601f1061502f5761010080835404028352916020019161505a565b820191906000526020600020905b81548152906001019060200180831161503d57829003601f168201915b5050505050915061508f600d8281548110151561507357fe5b600091825260209091206004600990920201015460ff166156b4565b156150cb5760408051908101604052601281527f4e6f7420416363657074656420636865636b0000000000000000000000000000602082015291505b6150dd600d8281548110151561459257fe5b156151195760408051908101604052601781527f436865636b20616c72656164792070726f636573736564000000000000000000602082015291505b6151238184615608565b1561515f5760408051908101604052600d81527f426f756e63656420636865636b00000000000000000000000000000000000000602082015291505b6151698184615651565b15611e345760408051908101604052601b81527f436865636b207769746820696e636f727265637420616d6f756e7400000000006020820152949350505050565b6000818152600b60205260408120546007549154600d80549293600160a060020a03610100909104811693632bfa9ef3939091169190869081106151ea57fe5b9060005260206000209060090201600601600d8681548110151561520a57fe5b906000526020600020906009020160010185600d8881548110151561522b57fe5b6000918252602082206004600990920201015460ff1690604051602001526040518663ffffffff1660e060020a0281526004018086600160a060020a0316600160a060020a03168152602001806020018060200185815260200184600a81111561529157fe5b60ff1681526020848203810184528854600260018216156101000260001901909116049082018190526040909101908890801561530f5780601f106152e45761010080835404028352916020019161530f565b820191906000526020600020905b8154815290600101906020018083116152f257829003601f168201915b50508381038252865460026000196101006001841615020190911604808252602090910190879080156153835780601f1061535857610100808354040283529160200191615383565b820191906000526020600020905b81548152906001019060200180831161536657829003601f168201915b5050975050505050505050602060405180830381600087803b15156153a757600080fd5b6102c65a03f115156153b857600080fd5b505050604051805150505050565b6000805433600160a060020a0390811691161480156146f7575060075460ff16806146f757506004600d8054859081106153fc57fe5b600091825260209091206004600990920201015460ff16600a81111561541e57fe5b148061545957506005600d80548590811061543557fe5b600091825260209091206004600990920201015460ff16600a81111561545757fe5b145b80156146f75750600682600a81111561546e57fe5b14806146f75750600882600a81111561548357fe5b149392505050565b6000615495615776565b50818051159392505050565b600082600d868154811015156154b357fe5b90600052602060002090600902016003015411156154d3575060006155d4565b6154dd85836145e5565b156154ea575060006155d4565b6009600d8054879081106154fa57fe5b600091825260209091206004600990920201015460ff16600a81111561551c57fe5b148061555757506008600d80548790811061553357fe5b600091825260209091206004600990920201015460ff16600a81111561555557fe5b145b15615564575060006155d4565b615576600d8681548110151561459257fe5b15615583575060006155d4565b615595600d8681548110151561507357fe5b156155a2575060006155d4565b6155ac8585615608565b156155b9575060006155d4565b6155c38585615651565b156155d0575060006155d4565b5060015b949350505050565b6000600482600a8111156155ec57fe5b14806146fa5750600682600a81111561560157fe5b1492915050565b60008160086000600d8681548110151561561e57fe5b60009182526020808320600990920290910154600160a060020a0316835282019290925260400190205410905092915050565b600081158015906156825750600d80548490811061566b57fe5b906000526020600020906009020160020154600014155b80156146f75750600d80548490811061569757fe5b906000526020600020906009020160020154821415905092915050565b6000600382600a8111156156c457fe5b141592915050565b81548183558181151161312d5760090281600902836000526020600020918201910161312d9190615855565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061573957805160ff1916838001178555615766565b82800160010185558215615766579182015b8281111561576657825182559160200191906001019061574b565b506157729291506158e6565b5090565b60206040519081016040526000815290565b81548183558181151161312d5760040281600402836000526020600020918201910161312d9190615900565b81548183558181151161312d5760060281600602836000526020600020918201910161312d9190615954565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106158195780548555615766565b8280016001018555821561576657600052602060002091601f016020900482015b8281111561576657825482559160010191906001019061583a565b6158e391905b8082111561577257805473ffffffffffffffffffffffffffffffffffffffff19168155600061588d60018301826159ac565b6000600283018190556003830181905560048301805460ff191690556158b79060058401906159ac565b6158c56006830160006159ac565b6158d36007830160006159ac565b506000600882015560090161585b565b90565b6158e391905b8082111561577257600081556001016158ec565b6158e391905b8082111561577257805473ffffffffffffffffffffffffffffffffffffffff19168155600061593860018301826159ac565b506000600282015560038101805460ff19169055600401615906565b6158e391905b8082111561577257805460ff19168155600061597960018301826159ac565b6159876002830160006159ac565b6159956003830160006159ac565b50600060048201819055600582015560060161595a565b50805460018160011615610100020316600290046000825580601f106159d2575061406c565b601f01602090049060005260206000209081019061406c91906158e65600a165627a7a7230582001fcbb371bc201d38dd9eae97e25a2484aba38a1e20bb838569c6768007eb61a0029',
		gas: deployGas
	}, function (e, contract) {
		console.log(e, contract);
		if (typeof contract.address !== 'undefined') {
			console.log('Blockcheq contract mined! address: "' + contract.address + '"\n');
			callBack(contract);
		} else {
			console.log('Waiting for BlockCheq\n');
			waitBlock(contract.transactionHash, function(){callBack(contract);})
		}
	});
}

var deployBlockBank = function(callBack) {
	blockbankContract.new("Regulator", 0, 3, {
		from: regulator,
		data: '0x606060405234156200001057600080fd5b60405162003b4338038062003b43833981016040528080518201919060200180519190602001805160008054600160a060020a033316600160a060020a031991821681179092556001805490911690911790559150600290508380516200007c9291602001906200008d565b506003919091556004555062000132565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620000d057805160ff191683800117855562000100565b8280016001018555821562000100579182015b8281111562000100578251825591602001919060010190620000e3565b506200010e92915062000112565b5090565b6200012f91905b808211156200010e576000815560010162000119565b90565b613a0180620001426000396000f3006060604052600436106102915763ffffffff7c0100000000000000000000000000000000000000000000000000000000600035041662dcb29381146102a357806306fdde03146103305780631310b6931461034357806313b736011461036d5780631617d456146103d2578063185cba1c146103e55780631b3ebe3b146103fb578063218459f91461040e57806322de3c91146104275780632bfa9ef31461043a5780632cddad3b146104e55780632f54bf6e1461053857806335817773146105575780633df77aa3146105c45780633e3c48de146106175780633e76de53146106bc5780634518f6b31461071b5780634eec724f1461076c578063545a2138146107bd57806362d30ae0146108105780636932cf81146108655780636933a44c146108b657806373366bce146108cc57806379d1c146146108e25780637e105ce2146108f857806380ac70e21461091757806384b259691461098e5780638da5cb5b146109a15780638e2cd8ad146109b4578063902fb4e0146109cd57806396f7edae14610a20578063a0e1d69414610a39578063a363ea9614610a8a578063a691ab4014610add578063a8d5b9b714610af6578063aaccc0db14610b0f578063af987f3114610b28578063b96a641e14610b3e578063b9a5dbf314610b54578063bd5981ae14610b6a578063bf68134014610bbb578063c3b95b1b14610c0e578063c99eb2f914610c24578063dd8fee1414610c3d578063df2043b614610c50578063e069c0d114610ce3578063e3298c9f14610cfc578063e7615a4f14610d51578063e8b5a5a614610da4578063f03590bf14610e00578063f14d027714610e16578063f2fde38b14610e2f578063f7dcd27e14610e4e578063f7e317f414610e9f578063f94f9d0e14610eb2575b341561029c57600080fd5b600080fd5b005b34156102ae57600080fd5b6102b9600435610f0e565b60405160208082528190810183818151815260200191508051906020019080838360005b838110156102f55780820151838201526020016102dd565b50505050905090810190601f1680156103225780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561033b57600080fd5b6102b9610f41565b341561034e57600080fd5b610359600435610fdf565b604051901515815260200160405180910390f35b341561037857600080fd5b6103c060046024813581810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496505093359350610ffe92505050565b60405190815260200160405180910390f35b34156103dd57600080fd5b6103c0611071565b34156103f057600080fd5b6103c0600435611077565b341561040657600080fd5b6103c0611089565b341561041957600080fd5b6103c0600435602435611090565b341561043257600080fd5b6103c0611106565b341561044557600080fd5b6103c060048035600160a060020a03169060446024803590810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f016020809104026020016040519081016040528181529291906020840183838082843750949650508435946020013560ff16935061112b92505050565b34156104f057600080fd5b6102b960046024813581810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496505093359350611bed92505050565b341561054357600080fd5b610359600160a060020a0360043516611c5f565b341561056257600080fd5b6105a860046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650611c7395505050505050565b604051600160a060020a03909116815260200160405180910390f35b34156105cf57600080fd5b61035960046024813581810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496505093359350611cdd92505050565b341561062257600080fd5b6103c060046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052818152929190602084018383808284375094965050600160a060020a03853581169560200135169350611d4892505050565b34156106c757600080fd5b6102a160048035600160a060020a03169060446024803590810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496506120ce95505050505050565b341561072657600080fd5b6105a860046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061211c95505050505050565b341561077757600080fd5b6103c060046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061218695505050505050565b34156107c857600080fd5b6105a860046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965050933593506121f092505050565b341561081b57600080fd5b6102a160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965050505091351515915061225b9050565b341561087057600080fd5b6102b960046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061249895505050505050565b34156108c157600080fd5b6105a8600435612509565b34156108d757600080fd5b610359600435612527565b34156108ed57600080fd5b6103c0600435612546565b341561090357600080fd5b6102b9600160a060020a036004351661256c565b341561092257600080fd5b61096a60046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650509335935061259692505050565b6040518082600a81111561097a57fe5b60ff16815260200191505060405180910390f35b341561099957600080fd5b6103c0612601565b34156109ac57600080fd5b6105a8612607565b34156109bf57600080fd5b610359600435602435612616565b34156109d857600080fd5b6103c060046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650509335935061269592505050565b3415610a2b57600080fd5b6102b9600435602435612700565b3415610a4457600080fd5b61035960046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061283595505050505050565b3415610a9557600080fd5b6102b960046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650509335935061289f92505050565b3415610ae857600080fd5b6103c0600435602435612911565b3415610b0157600080fd5b61096a600435602435612987565b3415610b1a57600080fd5b6103c0600435602435612a01565b3415610b3357600080fd5b6102b9600435612a77565b3415610b4957600080fd5b6105a8600435612b3d565b3415610b5f57600080fd5b6103c0600435612b5b565b3415610b7557600080fd5b6103c060046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650612b9a95505050505050565b3415610bc657600080fd5b61035960046024813581810190830135806020601f820181900481020160405190810160405281815292919060208401838380828437509496505093359350612c0492505050565b3415610c1957600080fd5b6103c0600435612c6f565b3415610c2f57600080fd5b610359600435602435612c80565b3415610c4857600080fd5b6105a8612ca6565b3415610c5b57600080fd5b6102a160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284378201915050505050509190803590602001908201803590602001908080601f016020809104026020016040519081016040528181529291906020840183838082843750949650612cb595505050505050565b3415610cee57600080fd5b6102b9600435602435612e5a565b3415610d0757600080fd5b6102a160046024813581810190830135806020601f82018190048102016040519081016040528181529291906020840183838082843750949650505050913515159150612f369050565b3415610d5c57600080fd5b6103c060046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965050933593506130e192505050565b3415610daf57600080fd5b6102a160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965050509235600160a060020a0316925061314c915050565b3415610e0b57600080fd5b6102b9600435613305565b3415610e2157600080fd5b6105a8600435602435613394565b3415610e3a57600080fd5b6102a1600160a060020a0360043516613414565b3415610e5957600080fd5b61035960046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965061344a95505050505050565b3415610eaa57600080fd5b6105a86134b4565b3415610ebd57600080fd5b6102a160046024813581810190830135806020601f8201819004810201604051908101604052818152929190602084018383808284375094965050509235600160a060020a031692506134c3915050565b610f1661380b565b600082815260096020526040902054801515610f3157600080fd5b610f3a81612a77565b9392505050565b60028054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610fd75780601f10610fac57610100808354040283529160200191610fd7565b820191906000526020600020905b815481529060010190602001808311610fba57829003601f168201915b505050505081565b60009081526007602052604090206004015460a060020a900460ff1690565b600080836040518082805190602001908083835b602083106110315780518252601f199092019160209182019101611012565b6001836020036101000a0380198251168184511617909252505050919091019250604091505051809103902090506110698184611090565b949350505050565b60035481565b60009081526007602052604090205490565b6005545b90565b600082815260096020526040812054818115156110ac57600080fd5b6110b782868661365d565b15156110c257600080fd5b506000818152600a60209081526040808320878452909152902080548190859081106110ea57fe5b9060005260206000209060080201600201549250505092915050565b60015460009033600160a060020a0390811691161461112457600080fd5b5060065490565b600160a060020a03851660009081526008602090815260408083205480845260079092528220600481015483908190819060a860020a900460ff16801561117d5750600484015460a060020a900460ff165b151561118857600080fd5b6111978a6003546004546136c7565b6040518082805190602001908083835b602083106111c65780518252601f1990920191602091820191016111a7565b6001836020036101000a038019825116818451161790925250505091909101925060409150505190819003902060008181526007602052604090206004810154919450925060a860020a900460ff16801561122c5750600482015460a060020a900460ff165b151561123757600080fd5b6113e18460e0604051908101604052908160008201548152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156112ea5780601f106112bf576101008083540402835291602001916112ea565b820191906000526020600020905b8154815290600101906020018083116112cd57829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561138c5780601f106113615761010080835404028352916020019161138c565b820191906000526020600020905b81548152906001019060200180831161136f57829003601f168201915b50505091835250506003820154600160a060020a039081166020830152600490920154918216604082015260ff60a060020a830481161515606083015260a860020a90920490911615156080909101526137bc565b8061146f575061146f8260e0604051908101604052908160008201548152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156112ea5780601f106112bf576101008083540402835291602001916112ea565b151561147a57600080fd5b896040518082805190602001908083835b602083106114aa5780518252601f19909201916020918201910161148b565b6001836020036101000a03801982511681845116179092525050509190910192506040915050519081900390206000848152600a60209081526040808320848452909152902054909150151561152d576000818152600960205260409020839055600680546001810161151d838261381d565b5060009182526020909120018190555b6000838152600a6020908152604080832084845290915290208054600191908083016115598382613841565b9160005260206000209060080201600061012060405190810160409081528a825260048a0154600160a060020a03166020830152808201908f90518082805190602001908083835b602083106115c05780518252601f1990920191602091820191016115a1565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390206000191681526020018e81526020018d81526020018c600a81111561160d57fe5b81526020014281526020016119688a60e0604051908101604052908160008201548152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156116cb5780601f106116a0576101008083540402835291602001916116cb565b820191906000526020600020905b8154815290600101906020018083116116ae57829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561176d5780601f106117425761010080835404028352916020019161176d565b820191906000526020600020905b81548152906001019060200180831161175057829003601f168201915b50505091835250506003820154600160a060020a03908116602083015260049092015491821660408083019190915260ff60a060020a840481161515606084015260a860020a90930490921615156080909101528a9060e09051908101604052908160008201548152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156118715780601f1061184657610100808354040283529160200191611871565b820191906000526020600020905b81548152906001019060200180831161185457829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156119135780601f106118e857610100808354040283529160200191611913565b820191906000526020600020905b8154815290600101906020018083116118f657829003601f168201915b50505091835250506003820154600160a060020a039081166020830152600490920154918216604082015260ff60a060020a830481161515606083015260a860020a90920490911615156080909101526137fd565b151581526001602090910152919050815181556020820151600182018054600160a060020a031916600160a060020a0392909216919091179055604082015160028201556060820151816003019080516119c692916020019061386d565b506080820151816004015560a082015160058201805460ff1916600183600a8111156119ee57fe5b021790555060c0820151816006015560e082015160078201805460ff1916911515919091179055610100820151600790910180549115156101000261ff00199092169190911790555060048601546000868152600a60209081526040808320878452909152902080549390920398507f2a1b1a523013d39adb40b7008c333abe43ef67834b1f016d372a5a66ace014849289928992600160a060020a03169184908110611a9757fe5b9060005260206000209060080201600201548d8d8d42600a60008d6000191660001916815260200190815260200160002060008b600019166000191681526020019081526020016000208f815481101515611aee57fe5b600091825260209091206007600890920201015460ff1660016040518a8152602081018a9052600160a060020a03891660408201526060810188905260a081018690526080810160c0820186600a811115611b4557fe5b60ff1681526020018581526020018415151515815260200183151515158152602001828103825288818151815260200191508051906020019080838360005b83811015611b9c578082015183820152602001611b84565b50505050905090810190601f168015611bc95780820380516001836020036101000a031916815260200191505b509b50505050505050505050505060405180910390a1505050505095945050505050565b611bf561380b565b6000836040518082805190602001908083835b60208310611c275780518252601f199092019160209182019101611c08565b6001836020036101000a0380198251168184511617909252505050919091019250604091505051809103902090506110698184612e5a565b600054600160a060020a0391821691161490565b600080826040518082805190602001908083835b60208310611ca65780518252601f199092019160209182019101611c87565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610f3a81612509565b600080836040518082805190602001908083835b60208310611d105780518252601f199092019160209182019101611cf1565b6001836020036101000a0380198251168184511617909252505050919091019250604091505051809103902090506110698184612c80565b600154600090819033600160a060020a03908116911614611d6857600080fd5b856040518082805190602001908083835b60208310611d985780518252601f199092019160209182019101611d79565b6001836020036101000a038019825116818451161790925250505091909101925060409150505190819003902060008181526007602052604090206004015490915060a860020a900460ff1615611dee57600080fd5b6000818152600760205260409020600201858051611e1092916020019061386d565b506000818152600760205260409020600381018054600160a060020a03808816600160a060020a03199283161790925560048301805475ff0000000000000000000000000000000000000000001974ff00000000000000000000000000000000000000001994891691909316179290921660a060020a171660a860020a179055600190810154600291811615610100026000190116041515611eee57600160058054806001018281611ec2919061381d565b600092835260208084209290920185905584835260079091526040909120919003908190559150611f00565b60008181526007602052604090205491505b6000818152600760205260409020600101868051611f2292916020019061386d565b50600160a060020a0380851660009081526008602090815260408083208590558483526007909152908190208054600382015460048301546000805160206139b68339815191529592946001850194600201939283169282169160ff60a060020a820481169260a860020a909204169051878152600160a060020a0385811660608301528416608082015282151560a082015281151560c082015260e0602082018181528854600260018216156101009081026000190190921604928401839052909160408401918401908a90801561203c5780601f106120115761010080835404028352916020019161203c565b820191906000526020600020905b81548152906001019060200180831161201f57829003601f168201915b50508381038252885460026000196101006001841615020190911604808252602090910190899080156120b05780601f10612085576101008083540402835291602001916120b0565b820191906000526020600020905b81548152906001019060200180831161209357829003601f168201915b5050995050505050505050505060405180910390a150949350505050565b60015433600160a060020a039081169116146120e957600080fd5b60018054600160a060020a031916600160a060020a038416179055600281805161211792916020019061386d565b505050565b600080826040518082805190602001908083835b6020831061214f5780518252601f199092019160209182019101612130565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610f3a81612b3d565b600080826040518082805190602001908083835b602083106121b95780518252601f19909201916020918201910161219a565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610f3a81612546565b600080836040518082805190602001908083835b602083106122235780518252601f199092019160209182019101612204565b6001836020036101000a0380198251168184511617909252505050919091019250604091505051809103902090506110698184613394565b60015460009033600160a060020a0390811691161461227957600080fd5b826040518082805190602001908083835b602083106122a95780518252601f19909201916020918201910161228a565b6001836020036101000a03801982511681845116179092525050509190910192506040915050519081900390206000818152600760205260409081902060048101805475ff000000000000000000000000000000000000000000191660a860020a87151581029190911791829055825460038401549596506000805160206139b6833981519152959094600185019460020193600160a060020a03928316939281169260ff60a060020a8304811693919092049091169051878152600160a060020a0385811660608301528416608082015282151560a082015281151560c082015260e0602082018181528854600260018216156101009081026000190190921604928401839052909160408401918401908a90801561240a5780601f106123df5761010080835404028352916020019161240a565b820191906000526020600020905b8154815290600101906020018083116123ed57829003601f168201915b505083810382528854600260001961010060018416150201909116048082526020909101908990801561247e5780601f106124535761010080835404028352916020019161247e565b820191906000526020600020905b81548152906001019060200180831161246157829003601f168201915b5050995050505050505050505060405180910390a1505050565b6124a061380b565b6000826040518082805190602001908083835b602083106124d25780518252601f1990920191602091820191016124b3565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610f3a81613305565b600090815260076020526040902060040154600160a060020a031690565b60009081526007602052604090206004015460a860020a900460ff1690565b6000818152600960209081526040808320548352600a8252808320938352929052205490565b61257461380b565b600160a060020a038216600090815260086020526040902054610f3a81612a77565b600080836040518082805190602001908083835b602083106125c95780518252601f1990920191602091820191016125aa565b6001836020036101000a0380198251168184511617909252505050919091019250604091505051809103902090506110698184612987565b60045481565b600054600160a060020a031681565b6000828152600960205260408120548181151561263257600080fd5b61263d82868661365d565b151561264857600080fd5b506000818152600a602090815260408083208784529091529020805481908590811061267057fe5b6000918252602090912060089091020160070154610100900460ff1695945050505050565b600080836040518082805190602001908083835b602083106126c85780518252601f1990920191602091820191016126a9565b6001836020036101000a0380198251168184511617909252505050919091019250604091505051809103902090506110698184612911565b61270861380b565b6000838152600960205260408120549081151561272457600080fd5b61272f82868661365d565b151561273a57600080fd5b506000818152600a6020908152604080832087845290915281208054909160079183908790811061276757fe5b906000526020600020906008020160000154600019166000191681526020019081526020016000206001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156128265780601f106127fb57610100808354040283529160200191612826565b820191906000526020600020905b81548152906001019060200180831161280957829003601f168201915b50505050509250505092915050565b600080826040518082805190602001908083835b602083106128685780518252601f199092019160209182019101612849565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610f3a81610fdf565b6128a761380b565b6000836040518082805190602001908083835b602083106128d95780518252601f1990920191602091820191016128ba565b6001836020036101000a0380198251168184511617909252505050919091019250604091505051809103902090506110698184612700565b6000828152600960205260408120548181151561292d57600080fd5b61293882868661365d565b151561294357600080fd5b506000818152600a602090815260408083208784529091529020805481908590811061296b57fe5b9060005260206000209060080201600601549250505092915050565b600082815260096020526040812054818115156129a357600080fd5b6129ae82868661365d565b15156129b957600080fd5b506000818152600a60209081526040808320878452909152902080548190859081106129e157fe5b600091825260209091206008909102016005015460ff1695945050505050565b60008281526009602052604081205481811515612a1d57600080fd5b612a2882868661365d565b1515612a3357600080fd5b506000818152600a6020908152604080832087845290915290208054819085908110612a5b57fe5b9060005260206000209060080201600401549250505092915050565b612a7f61380b565b6007600083600019166000191681526020019081526020016000206001018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015612b315780601f10612b0657610100808354040283529160200191612b31565b820191906000526020600020905b815481529060010190602001808311612b1457829003601f168201915b50505050509050919050565b600090815260076020526040902060030154600160a060020a031690565b60015460009033600160a060020a03908116911614612b7957600080fd5b6006805483908110612b8757fe5b9060005260206000209001549050919050565b600080826040518082805190602001908083835b60208310612bcd5780518252601f199092019160209182019101612bae565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610f3a81611077565b600080836040518082805190602001908083835b60208310612c375780518252601f199092019160209182019101612c18565b6001836020036101000a0380198251168184511617909252505050919091019250604091505051809103902090506110698184612616565b6000600582815481101515612b8757fe5b600082815260096020526040812054801515612c9b57600080fd5b61106981858561365d565b600154600160a060020a031681565b60015460009033600160a060020a03908116911614612cd357600080fd5b826040518082805190602001908083835b60208310612d035780518252601f199092019160209182019101612ce4565b6001836020036101000a038019825116818451161790925250505091909101925060409150505190819003902060008181526007602052604090206004015490915060a860020a900460ff161515612d5a57600080fd5b6000818152600760205260409020600201828051612d7c92916020019061386d565b50600081815260076020526040908190208054600382015460048301546000805160206139b68339815191529492936001810193600290910192600160a060020a03908116929081169160ff60a060020a830481169260a860020a9004169051878152600160a060020a0385811660608301528416608082015282151560a082015281151560c082015260e0602082018181528854600260018216156101009081026000190190921604928401839052909160408401918401908a90801561240a5780601f106123df5761010080835404028352916020019161240a565b612e6261380b565b60008381526009602052604081205490811515612e7e57600080fd5b612e8982868661365d565b1515612e9457600080fd5b506000818152600a6020908152604080832087845290915290208054819085908110612ebc57fe5b90600052602060002090600802016003018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156128265780601f106127fb57610100808354040283529160200191612826565b60015460009033600160a060020a03908116911614612f5457600080fd5b826040518082805190602001908083835b60208310612f845780518252601f199092019160209182019101612f65565b6001836020036101000a038019825116818451161790925250505091909101925060409150505190819003902060008181526007602052604090206004015490915060a860020a900460ff161515612fdb57600080fd5b6000818152600760205260409081902060048101805474ff0000000000000000000000000000000000000000191660a060020a86151581029190911791829055825460038401546000805160206139b68339815191529591946001810194600290910193600160a060020a03928316939282169260ff91830482169260a860020a90049091169051878152600160a060020a0385811660608301528416608082015282151560a082015281151560c082015260e0602082018181528854600260018216156101009081026000190190921604928401839052909160408401918401908a90801561240a5780601f106123df5761010080835404028352916020019161240a565b600080836040518082805190602001908083835b602083106131145780518252601f1990920191602091820191016130f5565b6001836020036101000a0380198251168184511617909252505050919091019250604091505051809103902090506110698184612a01565b60015460009033600160a060020a0390811691161461316a57600080fd5b826040518082805190602001908083835b6020831061319a5780518252601f19909201916020918201910161317b565b6001836020036101000a038019825116818451161790925250505091909101925060409150505190819003902060008181526007602052604090206004015490915060a860020a900460ff1615156131f157600080fd5b6000818152600760208181526040808420600481018054600160a060020a039081168752600885528387208790558154600160a060020a031916898216178083558116875283872088905595879052939092528154600383015493546000805160206139b68339815191529591946001850194600201939083169282169160a060020a810460ff9081169260a860020a909204169051878152600160a060020a0385811660608301528416608082015282151560a082015281151560c082015260e0602082018181528854600260018216156101009081026000190190921604928401839052909160408401918401908a90801561240a5780601f106123df5761010080835404028352916020019161240a565b61330d61380b565b6007600083600019166000191681526020019081526020016000206002018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015612b315780601f10612b0657610100808354040283529160200191612b31565b600082815260096020526040812054818115156133b057600080fd5b6133bb82868661365d565b15156133c657600080fd5b506000818152600a60209081526040808320878452909152902080548190859081106133ee57fe5b6000918252602090912060089091020160010154600160a060020a031695945050505050565b61341d33611c5f565b151561342857600080fd5b60008054600160a060020a031916600160a060020a0392909216919091179055565b600080826040518082805190602001908083835b6020831061347d5780518252601f19909201916020918201910161345e565b6001836020036101000a038019825116818451161790925250505091909101925060409150505180910390209050610f3a81612527565b600154600160a060020a031690565b60015460009033600160a060020a039081169116146134e157600080fd5b826040518082805190602001908083835b602083106135115780518252601f1990920191602091820191016134f2565b6001836020036101000a038019825116818451161790925250505091909101925060409150505190819003902060008181526007602052604090206004015490915060a860020a900460ff16151561356857600080fd5b60008181526007602052604090819020600381018054600160a060020a031916600160a060020a038681169190911791829055825460048401546000805160206139b68339815191529591946001810194600290910193908116929082169160a060020a810460ff9081169260a860020a909204169051878152600160a060020a0385811660608301528416608082015282151560a082015281151560c082015260e0602082018181528854600260018216156101009081026000190190921604928401839052909160408401918401908a90801561240a5780601f106123df5761010080835404028352916020019161240a565b6000838152600a602090815260408083208584529091528120805481908490811061368457fe5b600091825260209091206007600890920201015460ff16156136ba5760015433600160a060020a039081169116141591506136bf565b600191505b509392505050565b6136cf61380b565b6136d761380b565b6136df61380b565b6000869250846040518059106136f25750595b818152601f19601f830116810160200160405290509150600090505b848110156137b257828187018151811061372457fe5b01602001517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000282828151811061377a57fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535060010161370e565b5095945050505050565b600033600160a060020a03168260600151600160a060020a031614806137f7575033600160a060020a03168260800151600160a060020a0316145b92915050565b600081518351149392505050565b60206040519081016040526000815290565b815481835581811511612117576000838152602090206121179181019083016138eb565b815481835581811511612117576008028160080283600052602060002091820191016121179190613905565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106138ae57805160ff19168380011785556138db565b828001600101855582156138db579182015b828111156138db5782518255916020019190600101906138c0565b506138e79291506138eb565b5090565b61108d91905b808211156138e757600081556001016138f1565b61108d91905b808211156138e7576000808255600182018054600160a060020a03191690556002820181905561393e600383018261396e565b5060006004820181905560058201805460ff19169055600682015560078101805461ffff1916905560080161390b565b50805460018160011615610100020316600290046000825580601f1061399457506139b2565b601f0160209004906000526020600020908101906139b291906138eb565b505600c12c629deecc6b3b3afacaf99b9f75e9efc5a853209d9d004e52bdc07365816fa165627a7a723058200e7f4bbea5c4b77b060546045ba773523465f5e25b1d4ab40e8d4f0a28549b4d0029',
		gas: deployGas
	}, function (e, contract) {
		console.log(e, contract);
		if (typeof contract.address !== 'undefined') {
			console.log('Blockbank contract mined! address: "' + contract.address + '"\n');
			callBack(contract);
		} else {
			console.log('Waiting for Blockbank\n');
			waitBlock(contract.transactionHash, function(){callBack(contract);})
		}
	});
}

var addBanksAccountCheqs = function(blockBank, blockCheq1, blockCheq2){
	blockBank.addBank(bank1Code, bank1Name, bank1, blockCheq1.address, {from:regulator,gas:transGas});
	blockBank.addBank(bank2Code, bank2Name, bank2, blockCheq2.address, {from:regulator,gas:transGas});
	console.log("Banks added ");
	
	// add accounts
	blockCheq1.addAccount(user1Addr, bank1Code+"98765432M", 300000000000, {from:bank1,gas:transGas});
	blockCheq1.addAccount(user2Addr, bank1Code+"65013465D", 300000000000, {from:bank1,gas:transGas});
	blockCheq2.addAccount(user2Addr, bank2Code+"23456789D", 300000000000, {from:bank2,gas:transGas});
	console.log("Accounts added ");

	// add checks
	blockCheq1.addCheck(user1Addr, "-35300582- 0187705345d 100151410503c",  {from:bank1,gas:transGas});
	blockCheq1.addCheck(user1Addr, "-00803918- 0010002165d 601105549800c",  {from:bank1,gas:transGas});
	blockCheq1.addCheck(user1Addr, "-35300506- 0183602415d 800011455987c",  {from:bank1,gas:transGas});
	blockCheq1.addCheck(user2Addr, "-35300262-0180006925d800800791139c",  {from:bank1,gas:transGas});
	blockCheq1.addCheck(user2Addr, "-00803914- 0010001375d 602948659921c",  {from:bank1,gas:transGas});
	blockCheq2.addCheck(user2Addr, "-35300582- 0187705345d 100151410555c",  {from:bank2,gas:transGas});
	blockCheq2.addCheck(user2Addr, "8955 511150143 51451000617 0000111",  {from:bank2,gas:transGas});
	blockCheq2.addCheck(user2Addr, "0000078 0270320 00003233070 01",  {from:bank2,gas:transGas});
	blockCheq2.addCheck(user2Addr, "7907 516800029 01477880149 0000023",  {from:bank2,gas:transGas});
	console.log("Checks added ");

	// print info
	console.log("----------------------- CONTRACTS ----------------------");
	console.log("Blockbank deployed at " + blockBank.address);
	console.log("First BlockCheck deployed at " + blockCheq1.address);
	console.log("Second BlockCheck deployed at " + blockCheq2.address);
	console.log("----------------------- ACCOUNTS -----------------------");
	console.log('regulator: ' + regulator);
	console.log('bank 1: ' + bank1);
	console.log('bank 2: ' + bank2);
	console.log('user 1: ' + user1Addr);
	console.log('user 2: ' + user2Addr);
	
}

function waitBlock(transhash, callback) {
  function innerWaitBlock() {
    var receipt = web3.eth.getTransactionReceipt(transhash);
    if (receipt && receipt.contractAddress) {
	  callback();
    } else {
      console.log("Waiting a mined block to include your contract... currently in block " + web3.eth.blockNumber);
      setTimeout(innerWaitBlock, 2000);
    }
  }
}

console.log('Calling contract creation');
deployBlockBank(function(blockBank){
	console.log('BlockBank ready, calling Blockcheq');
	deployBlockCheq(bank1Code, bank1Name, blockBank.address, true, bank1, function(blockCheq1) {
		console.log('Blockcheq ready, calling Blockcheq');
		deployBlockCheq(bank2Code, bank2Name, blockBank.address, false, bank2, function(blockCheq2) {
			console.log('Blockcheq ready, calling config');
			addBanksAccountCheqs(blockBank, blockCheq1, blockCheq2);
		});
	});
});

